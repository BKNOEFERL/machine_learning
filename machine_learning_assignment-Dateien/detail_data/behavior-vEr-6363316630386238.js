(function(a){function e(b){var c=b.type,b=a(b.target),d=b.data("stage");if(void 0!==d&&phx.stage[d.id])phx.stage[d.id](d,b,c)}function b(c){var d=a("#mail-head"),e=d.height();0<e||!c?(c=e+parseInt(d.parent().css("padding-top"),10),a(".mail-body").css("top")!==c&&(a(".mail-body").css("top",c),a(".widget-mail-compose-body").show())):setTimeout(function(){b(!0)},20)}function c(c){b(c);"none"===a("#mail-instant-reply").css("display")?a(".panel-mail-display-table-mail-horizontal .is-mail-quick-replyable.mail-display-wrapper,#panel-mail-display .is-mail-quick-replyable.mail-display-wrapper").removeClass("is-mail-quick-replyable"):
a(".panel-mail-display-table-mail-horizontal .mail-display-wrapper,#panel-mail-display .mail-display-wrapper").addClass("is-mail-quick-replyable")}function d(){var b=a("html"),c=a(".editor_header").outerHeight();250<c?(b.addClass("is-bigger-mail-head"),b.removeClass("is-big-mail-head")):210<c?(b.addClass("is-big-mail-head"),b.removeClass("is-bigger-mail-head")):b.removeClass("is-big-mail-head is-bigger-mail-head")}function f(){50<a(".menubar").outerHeight()?a("#panel-mail-table").addClass("is-toolbar-two-line"):
a("#panel-mail-table").removeClass("is-toolbar-two-line")}phx.event.subscribe(phx.events.DOM_NODE_ADDED,e);phx.event.subscribe(phx.events.DOM_NODE_REMOVING,e);phx.stage={"navigation-drafts":function(a,b,c){c===phx.events.DOM_NODE_REMOVING?b.parent().removeClass(a.id+"-"+a.val):b.parent().addClass(a.id+"-"+a.val)},"mail-display-attachment-delete":function(){b()}};phx.event.subscribe(phx.events.COLLAPSED_QUICK_REPLY,function(){a(".mail-display-wrapper").removeClass("is-quick-reply-expanded")});phx.event.subscribe(phx.events.EXPANDED_QUICK_REPLY,
function(){a(".mail-display-wrapper").addClass("is-quick-reply-expanded")});phx.event.subscribe(phx.events.MAIL_SHOWN,function(){c(!0)});phx.event.subscribe(phx.events.SPAM_PROTECTION_REMOVED,function(){c(!0)});phx.event.subscribe(phx.events.LAST_ATTACHMENT_REMOVED,function(){c(!0)});phx.event.subscribe(phx.events.GUI_TOGGLE_TOGGLED,function(c){0<a(c.target).closest("#mail-head").length&&b()});phx.event.subscribe(phx.events.EDITOR_BAR_TOGGLED,function(){var b=a(".cke_contents"),c=a(".widget-mail-compose-body");
b.hasClass("is-initial")?b.removeClass("is-initial"):(b.toggleClass("is-collapsed"),c.toggleClass("is-editor-toolbar-collapsed"))});phx.event.subscribe(phx.events.RESIZE_HANDLED,[b,d]);a(document).on(phx.events.RESIZE_HANDLED,function(){b();d()});0<a("#panel-mail-display").length&&c();f();phx.event.subscribe(phx.events.RESIZE_HANDLED,f);phx.event.subscribe("domchange",f)})(jQuery,CssUtils.modifier);
(function(a){var e,b,c;phx.util.userAgent.is("ios")&&a("html").hasClass("page-htmleditorpage")&&(b={},c=[["mailHead",".widget-mail-compose-head"],["toolbar","#cke_top_editor"],["composeNav",".widget-mail-compose-nav"],["ckIframe","#cke_contents_editor iframe"]],b.page=a(".page"),e=function(){var d=0,e,g;e=0;for(g=c.length;e<g;e++){if(!b[c[e][0]]||1>b[c[e][0]].length)b[c[e][0]]=a(c[e][1]);d+=b[c[e][0]].outerHeight()}return d},e(),window.setInterval(function(){b.page.css("min-height",e()+"px")},100))})(jQuery);
(function(a){a.Drag.prototype.limit=function(b,c){var d=b.styles("borderTopWidth","paddingTop","borderLeftWidth","paddingLeft"),d=new a.Vector(parseInt(d.borderLeftWidth,10)+parseInt(d.paddingLeft,10)||0,parseInt(d.borderTopWidth,10)+parseInt(d.paddingTop,10)||0);this._limit={offset:b.offsetv().plus(d),size:b.dimensionsv(),center:!0===c?"both":c};return this};var e=a.Drag.prototype.position;a.Drag.prototype.position=function(a){if(this._limit){var c=this._limit,d=c.center&&c.center.toLowerCase(),
f=this.movingElement.dimensionsv("outer"),g=d&&"x"!=d?f.height()/2:0,d=d&&"y"!=d?f.width()/2:0,h=c.offset.top(),i=c.offset.left(),j=c.size.height(),c=c.size.width();a.top()+g<h&&a.top(h-g);a.top()+f.height()-g>h+j&&a.top(h+j-f.height()+g);a.left()+d<i&&a.left(i-d);a.left()+f.width()-d>i+c&&a.left(i+c-f.left()+d)}e.call(this,a)}})(jQuery);
(function(a){a.Drag.prototype.scrolls=function(e,b){for(var e=a(e),c=0;c<e.length;c++)this.constructor.responder._elements.push(e.eq(c).data("_dropData",new a.Scrollable(e[c],b))[0])};a.Scrollable=function(e,b){this.element=jQuery(e);this.options=a.extend({distance:30,delta:function(a,b){return(b-a)/2},direction:"xy"},b);this.x=-1!=this.options.direction.indexOf("x");this.y=-1!=this.options.direction.indexOf("y")};a.extend(a.Scrollable.prototype,{init:function(a){this.element=jQuery(a)},callHandlers:function(a,
b,c,d){this[a](b||this.element[0],c,this,d)},dropover:function(){},dropon:function(){this.clear_timeout()},dropout:function(){this.clear_timeout()},dropinit:function(){},dropend:function(){},clear_timeout:function(){this.interval&&(clearTimeout(this.interval),this.interval=null)},distance:function(a){return(30-a)/2},dropmove:function(e,b,c,d){this.clear_timeout();var f=b.vector(),c=a(e==document.documentElement?window:e),g=c.dimensionsv("outer"),h=c.offsetv(),c=h.y()+g.y()-f.y(),i=f.y()-h.y(),g=h.x()+
g.x()-f.x(),f=f.x()-h.x(),j=0,l=0,h=this.options.distance;c<h&&this.y?l=this.options.delta(c,h):i<h&&this.y&&(l=-this.options.delta(i,h));g<h&&this.options&&this.x?j=this.options.delta(g,h):f<h&&this.x&&(j=-this.options.delta(f,h));if(j||l){var k=this;this.interval=setTimeout(function(){k.move(a(e),d.movingElement,j,l,b,b.clientX,b.clientY,b.screenX,b.screenY)},15)}},move:function(e,b,c,d,f){e.scrollTop(e.scrollTop()+d);e.scrollLeft(e.scrollLeft()+c);b.trigger(a.event.fix({type:"mousemove",clientX:f.clientX,
clientY:f.clientY,screenX:f.screenX,screenY:f.screenY,pageX:f.pageX,pageY:f.pageY}))}})})(jQuery);
(function(a){var e=[].slice,b={};a.amplify={publish:function(a){var d=e.call(arguments,1),f,g,h,i=0;if(!b[a])return!0;f=b[a].slice();for(h=f.length;i<h&&!(g=f[i],g=g.callback.apply(g.context,d),!1===g);i++);return!1!==g},subscribe:function(a,d,e,g){3===arguments.length&&"number"==typeof e&&(g=e,e=d,d=null);2===arguments.length&&(e=d,d=null);for(var g=g||10,h=0,i=a.split(/\s/),j=i.length,l;h<j;h++){a=i[h];l=!1;b[a]||(b[a]=[]);for(var k=b[a].length-1,o={callback:e,context:d,priority:g};0<=k;k--)if(b[a][k].priority<=
g){b[a].splice(k+1,0,o);l=!0;break}l||b[a].unshift(o)}return e},unsubscribe:function(a,d){if(b[a])for(var e=b[a].length,g=0;g<e;g++)if(b[a][g].callback===d){b[a].splice(g,1);break}}}})(this);
(function(a,e){function b(a,b){c.addType(a,function(f,i,n){var g,h=i,j=(new Date).getTime();if(!f){h={};n=[];i=0;try{for(f=b.length;f=b.key(i++);)d.test(f)&&(g=JSON.parse(b.getItem(f)),g.expires&&g.expires<=j?n.push(f):h[f.replace(d,"")]=g.data);for(;f=n.pop();)b.removeItem(f)}catch(k){}return h}f="__amplify__"+f;if(i===e)if(g=(g=b.getItem(f))?JSON.parse(g):{expires:-1},g.expires&&g.expires<=j)b.removeItem(f);else return g.data;else if(null===i)b.removeItem(f);else{g=JSON.stringify({data:i,expires:n.expires?
j+n.expires:null});try{b.setItem(f,g)}catch(l){c[a]();try{b.setItem(f,g)}catch(u){throw c.error();}}}return h})}var c=a.store=function(a,b,d,e){e=c.type;d&&d.type&&d.type in c.types&&(e=d.type);return c.types[e](a,b,d||{})};c.types={};c.type=null;c.addType=function(a,b){c.type||(c.type=a);c.types[a]=b;c[a]=function(b,d,e){e=e||{};e.type=a;return c(b,d,e)}};c.error=function(){return"amplify.store quota exceeded"};var d=/^__amplify__/,f;for(f in{localStorage:1,sessionStorage:1})try{window[f].getItem&&
b(f,window[f])}catch(g){}if(window.globalStorage)try{b("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===c.type&&(c.type="globalStorage")}catch(h){}a:if(!c.types.localStorage){var i=document.createElement("div");i.style.display="none";document.getElementsByTagName("head")[0].appendChild(i);try{i.addBehavior("#default#userdata"),i.load("amplify")}catch(j){i.parentNode.removeChild(i);break a}c.addType("userData",function(a,b,d){i.load("amplify");var f,n,g=b,h=(new Date).getTime();
if(!a){g={};n=[];for(a=0;b=i.XMLDocument.documentElement.attributes[a++];)f=JSON.parse(b.value),f.expires&&f.expires<=h?n.push(b.name):g[b.name]=f.data;for(;a=n.pop();)i.removeAttribute(a);i.save("amplify");return g}a=a.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");if(b===e)if(f=(b=i.getAttribute(a))?JSON.parse(b):{expires:-1},f.expires&&f.expires<=h)i.removeAttribute(a);else return f.data;else null===b?i.removeAttribute(a):(n=i.getAttribute(a),
f=JSON.stringify({data:b,expires:d.expires?h+d.expires:null}),i.setAttribute(a,f));try{i.save("amplify")}catch(j){null===n?i.removeAttribute(a):i.setAttribute(a,n);c.userData();try{i.setAttribute(a,f),i.save("amplify")}catch(k){throw null===n?i.removeAttribute(a):i.setAttribute(a,n),c.error();}}return g})}var l={},k={};c.addType("memory",function(a,b,c){if(!a)return l===e?e:JSON.parse(JSON.stringify(l));if(b===e)return l[a]===e?e:JSON.parse(JSON.stringify(l[a]));k[a]&&(clearTimeout(k[a]),delete k[a]);
if(null===b)return delete l[a],null;l[a]=b;c.expires&&(k[a]=setTimeout(function(){delete l[a];delete k[a]},c.expires));return b})})(this.amplify=this.amplify||{});
(function(a){function e(a){var b=!1;setTimeout(function(){b=!0},1);return function(){var e=this,g=arguments;b?a.apply(e,g):setTimeout(function(){a.apply(e,g)},1)}}function b(){}a.request=function(c,d,f){var g=c||{};"string"==typeof g&&("[object Function]"==={}.toString.call(d)&&(f=d,d={}),g={resourceId:c,data:d||{},success:f});var c={abort:b},d=a.request.resources[g.resourceId],h=g.success||b,i=g.error||b;g.success=e(function(b,c){c=c||"success";a.publish("request.success",g,b,c);a.publish("request.complete",
g,b,c);h(b,c)});g.error=e(function(b,c){c=c||"error";a.publish("request.error",g,b,c);a.publish("request.complete",g,b,c);i(b,c)});if(!d){if(!g.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+g.resourceId;}if(a.publish("request.before",g))return a.request.resources[g.resourceId](g,c),c;g.error(null,"abort")};a.request.types={};a.request.resources={};a.request.define=function(b,d,e){if("string"==typeof d){if(!(d in a.request.types))throw"amplify.request.define: unknown type: "+
d;e.resourceId=b;a.request.resources[b]=a.request.types[d](e)}else a.request.resources[b]=d}})(amplify);
(function(a,e,b){var c=["status","statusText","responseText","responseXML","readyState"],d=/\{([^\}]+)\}/g;a.request.types.ajax=function(d){d=e.extend({type:"GET"},d);return function(f,g){function l(a,d){e.each(c,function(a,b){try{p[b]=k[b]}catch(c){}});/OK$/.test(p.statusText)&&(p.statusText="success");a===b&&(a=null);q&&(d="abort");/timeout|error|abort/.test(d)?p.error(a,d):p.success(a,d);l=e.noop}var k,o=g.abort,m=e.extend(!0,{},d,{data:f.data}),q=!1,p={readyState:0,setRequestHeader:function(a,
b){return k.setRequestHeader(a,b)},getAllResponseHeaders:function(){return k.getAllResponseHeaders()},getResponseHeader:function(a){return k.getResponseHeader(a)},overrideMimeType:function(a){return k.overrideMideType(a)},abort:function(){q=!0;try{k.abort()}catch(a){}l(null,"abort")},success:function(a,b){f.success(a,b)},error:function(a,b){f.error(a,b)}};a.publish("request.ajax.preprocess",d,f,m,p);e.extend(m,{success:function(a,b){l(a,b)},error:function(a,b){l(null,b)},beforeSend:function(b,c){k=
b;m=c;return(d.beforeSend?d.beforeSend.call(this,p,m):!0)&&a.publish("request.before.ajax",d,f,m,p)}});e.ajax(m);g.abort=function(){p.abort();o.call(this)}}};a.subscribe("request.ajax.preprocess",function(a,b,c){var f=[],g=c.data;"string"!=typeof g&&(g=e.extend(!0,{},a.data,g),c.url=c.url.replace(d,function(a,b){if(b in g)return f.push(b),g[b]}),e.each(f,function(a,b){delete g[b]}),c.data=g)});a.subscribe("request.ajax.preprocess",function(a,b,c){var d=c.data;(b=a.dataMap)&&"string"!=typeof d&&(e.isFunction(b)?
c.data=b(d):(e.each(a.dataMap,function(a,b){a in d&&(d[b]=d[a],delete d[a])}),c.data=d))});var f={},g=a.request.cache={_key:function(a,b,c){function d(){return c.charCodeAt(e++)<<24|c.charCodeAt(e++)<<16|c.charCodeAt(e++)<<8|c.charCodeAt(e++)<<0}for(var c=b+c,b=c.length,e=0,f=d();e<b;)f^=d();return"request-"+a+"-"+f},_default:function(a,b,c,d){var e=g._key(b.resourceId,c.url,c.data),o=a.cache;if(e in f)return d.success(f[e]),!1;var m=d.success;d.success=function(a){f[e]=a;"number"==typeof o&&setTimeout(function(){delete f[e]},
o);m.apply(this,arguments)}}};a.store&&(e.each(a.store.types,function(b){g[b]=function(c,d,e,f){var o=g._key(d.resourceId,e.url,e.data);if(d=a.store[b](o))return e.success(d),!1;var m=f.success;f.success=function(d){a.store[b](o,d,{expires:c.cache.expires});m.apply(this,arguments)}}}),g.persist=g[a.store.type]);a.subscribe("request.before.ajax",function(a){var b=a.cache;if(b)return b=b.type||b,g[b in g?b:"_default"].apply(this,arguments)});a.request.decoders={jsend:function(a,b,c,d,e){"success"===
a.status?d(a.data):"fail"===a.status?e(a.data,"fail"):"error"===a.status&&(delete a.status,e(a,"error"))}};a.subscribe("request.before.ajax",function(b,c,d,f){function g(a,b){q(a,b)}function o(a,b){m(a,b)}var m=f.success,q=f.error,p=e.isFunction(b.decoder)?b.decoder:b.decoder in a.request.decoders?a.request.decoders[b.decoder]:a.request.decoders._default;!p||(f.success=function(a,b){p(a,b,f,o,g)},f.error=function(a,b){p(a,b,f,o,g)})})})(amplify,jQuery);
(function(a){var e=/INPUT|TEXTAREA/i,b=/RADIO|CHECKBOX|SUBMIT/i;a(document).bind("keydown keypress",function(a){var d;d=a.srcElement||a.target;var f=!1;a.keyCode===phx.util.KEYS.BACKSPACE?e.test(a.target.tagName)?(d.attributes.type&&(f=b.test(d.attributes.type.value)),d=d.readOnly||d.disabled||f):d=!0:d=!1;d&&a.preventDefault()})})(jQuery);(function(a){a(".noSubmitOnEnter input:text").live({keydown:function(a){a.keyCode===phx.util.KEYS.ENTER&&a.preventDefault()}})})(jQuery);
(function(a){phx.event.subscribe(phx.events.MODAL_DIALOG_OPEN,function(){a("iframe").not(".adframe").filter(":visible").attr("data-hidden","true").css("visibility","hidden")});phx.event.subscribe(phx.events.MODAL_DIALOG_CLOSE,function(){a("iframe[data-hidden=true]").css("visibility","").removeAttr("data-hidden")})})(jQuery);phx.isMailPreviewVisible=function(){return jQuery(".widget-mail-mail").is(":visible")};
(function(a){a.fn.extend({prependClick:function(e){return this.each(function(){var b=this.onclick,c=this.href;a.data(this,"lastCallback")!==e&&("undefined"!==typeof c&&!c.match(/^#[\w\d]/)&&(this.href="#"),this.onclick=function(d){d=d||window.event;e(d,function(){b&&b.apply(this,[d]);c&&"#"!==c&&(location.href=c)});a.event.fix(d).preventDefault();return!1},a.data(this,"lastCallback",e))})}})})(jQuery);
(function(a){function e(){return this}function b(){a(this).find(h).filter("."+i).val("")}function c(){var b=a(this);b.hasClass(i)&&(b.val(""),b.removeClass(i))}function d(){var b=a(this);b.val()||(b.addClass(i),b.val(b.attr(g)))}function f(){var a=this.find(h).andSelf().filter(h);a.bind({focus:c,blur:d});a.closest("form").bind("submit",b);a.each(d);return this}var g="placeholder",h="["+g+"]",i="empty";a.fn.extend({placeholder:g in document.createElement("input")?e:f});a(document).ready(function(){a("body").placeholder()})})(jQuery);
(function(a,e){function b(a,b,c){c.forEach(function(c){a.bind(b,c.eventData,c.callback)})}function c(a,b,c,f){var g,h;if(!f||!1===f)if("function"===typeof c)f=c,c=e;else return;a in d||(d[a]={});a=d[a];b in a||(a[b]=[]);g=a[b];b=0;for(a=g.length;b<a;b++)if(h=g[b],h.eventData===c&&h.callback===f)return;g.push({eventData:c,callback:f})}var d={},f=[],g=Wicket.Event,h=g.Topic;g.subscribe(h.DOM_NODE_ADDED,function(a,b){b&&f.push(b)});g.subscribe(h.AJAX_CALL_COMPLETE,function(){var c,e;e=a(f).find("*").andSelf();
if(e.length)for(c in d){var g=e,h=d[c],o=void 0,g=g.filter(c);if(0!==g.length)for(o in h)b(g,o,h[o])}f=[]});a.fn.wicketLive=function(a,b,d){this.bind.apply(this,arguments);var e=this.selector,f=a,g=b,h=d,p;if("object"===typeof f)for(p in f)c(e,p,g,f[p]);else c(e,f,g,h);return this}})(jQuery);
(function(a,e){a.fn.marginToViewport=function(a,c,d){var f=e.documentElement,g=f.clientWidth,f=f.clientHeight,h=e.body,i=h.scrollLeft,h=h.scrollTop,j=this.offset(),d=d||0,a="number"!==typeof a||isNaN(a)?i+g:Math.min(a,i+g),c="number"!==typeof c||isNaN(c)?h+f:Math.min(c,h+f);return{top:j.top-h-d,right:a-(j.left+this.outerWidth())-d,bottom:c-(j.top+this.outerHeight())-d,left:j.left-i-d}}})(jQuery,document);
(function(a){a.fn.forceRedraw=function(){var a=this;this.height(function(a,c){return c-1});window.setTimeout(function(){a.height("")},100);return this}})(jQuery);
(function(a){a.fn.inlineEdit=function(e){return this.each(function(){a.inlineEdit.getInstance(this,e).initValue()}).on("click",function(b){var c=a.inlineEdit.getInstance(this,e),d=c.element.find(c.options.control),f=!!d.length;if(b.target!==d[0])c[f?"mutate":"init"]()})};a.inlineEdit=function(e,b){this.options=a.extend(!0,{},a.inlineEdit.defaults,b);this.element=a(e)};a.inlineEdit.getInstance=function(e,b){return a.inlineEdit.initialised(e)?a(e).data("widget.inlineedit"):new a.inlineEdit(e,b)};a.inlineEdit.initialised=
function(e){return a(e).data("init.inlineedit")?!0:!1};a.inlineEdit.defaults={value:"",save:"",placeholder:"Click to edit",control:"input",cancelOnBlur:!1,saveOnBlur:!0,labelMarkup:'<a class="label"><span class="icon folder-add"></span><span class="text link"></span></a>',inputMarkup:'<span class="label"><span class="icon folder-add"></span><span class="form-input-type-text focused"><input type="text" value=""></span></span>',textAreaMarkup:"<textarea></textarea>"};a.inlineEdit.prototype={init:function(){this.element.data("init.inlineedit",
!0);this.initValue();this.mutate();this.element.data("widget.inlineedit",this)},initValue:function(){this.value(a.trim(this.element.text())||this.options.value);var e=jQuery(this.options.labelMarkup),b=e.find(".link");this.value()?this.options.value&&b.html(this.options.value):b.html(this.options.placeholder);this.element.empty().append(e)},mutate:function(){var e;e=this;window.setTimeout(function(){e.element.find(e.options.control).focus()},a.browser.msie?500:0);return e.element.empty().append(e.mutatedHtml(e.value())).find(e.options.control).bind("blur",
function(a){!0===e.options.cancelOnBlur?e.change(e.element,a):!0===e.options.saveOnBlur&&e.save(e.element,a)}).bind("keydown",function(a){switch(a.keyCode){case 13:"textarea"!==e.options.control&&e.save(e.element,a);a.preventDefault();break;case 27:e.change(e.element,a)}}).end()},value:function(e){if(arguments.length){var b=e===this.options.placeholder?"":e;this.element.data("value.inlineedit",a(".folder-add-link",this).length?"":b&&this.encodeHtml(b.replace(/\n/g,"<br />")))}return this.element.data("value.inlineedit")},
mutatedHtml:function(a){return this.controls[this.options.control].call(this,a)},save:function(a,b){var c=this.element.find(this.options.control),d={value:this.encodeHtml(c.val())};c.val(d.value);!1===this.options.save.call(this.element[0],b,d)&&(c=jQuery(this).data("value.inlineedit"),this.value(c),this.change(a,b))},change:function(){var a=jQuery(this.options.labelMarkup),b=this.value()||this.options.placeholder;a.find(".link").html(b);this.element.empty().append(a)},controls:{textarea:function(){return jQuery(this.options.textAreaMarkup)},
input:function(){return jQuery(this.options.inputMarkup)}},encodeHtml:function(e){var b=e;a.each([{key:/</g,value:"&lt;"},{key:/>/g,value:"&gt;"},{key:/"/g,value:"&quot;"}],function(a,d){b=b.replace(d.key,d.value)});return b}}})(jQuery);
(function(a){a.fn.countdown=function(e){e=e||{timer:10};this.each(function(){var b,c,d,f;f=function(){d.text(c);c--};d=a(this);d.trigger("countdownStart");c="function"===typeof e.timer?e.timer.call(this):e.timer;f();b=setInterval(function(){0===c&&(clearInterval(b),d.trigger("countdownFinish"));f()},1E3);d.on("countdownCancel",function(){clearInterval(b)})});return this}})(jQuery);
(function(a,e){function b(b){var c=a(b.delegateTarget),e=c.closest(f),b=d[b.type];0===e.length&&c.addClass(b)}function c(b){var c=d[b.type];a(b.delegateTarget).removeClass(c)}var d,f,g,h,i,j,l,k;f="[disabled], ."+e.IS_DISABLED;g=e.IS_HOVERED;i=e.IS_ACTIVE;l=e.IS_FOCUSED;d={focus:l,focusin:l,focusout:l,blur:l,mouseenter:g,mousedown:i,mouseleave:g+" "+i,mouseup:i};h={mouseenter:b,mouseleave:c};j={mousedown:b,"mouseup mouseleave":c};k={focus:b,blur:c};a.fn.pseudoClassify=function(a){if(a.hover)this.on(h);
if(a.active)this.on(j);a.focus&&(this.filter("a, button, input, textarea").on(k),this.not("a, button, input, textarea").on(k,"a, button, input, textarea"));return this}})(jQuery,CssUtils.modifier);
(function(a){function e(){var d=(this.getAttribute(b)||c).split(" "),e={},h,i;h=0;for(i=d.length;h<i;h++)e[d[h]]=!0;a(this).pseudoClassify(e)}var b="data-pseudo-classes",c="hover",d=[];a(function(){a(".js-classify").each(e)});window.Wicket&&Wicket.Event&&(Wicket.Event.subscribe(Wicket.Event.Topic.DOM_NODE_ADDED,function(a){d.push(a)}),Wicket.Event.subscribe(Wicket.Event.Topic.AJAX_CALL_COMPLETE,function(){var b=a(d);b.find(".js-classify").add(b.filter(".js-classify")).each(e);d=[]}))})(jQuery);
(function(a){function e(){var a=Array.prototype.slice.call(arguments),b=[],d;"string"==typeof a[0]&&(d=a.shift());f(a[0])&&(b=a.shift());a=a.shift();c[d]=[b,a]}function b(a){var e,f;if("undefined"==typeof d[a]&&(e=c[a]))f=e[0],e=e[1],d[a]=e.apply(void 0,g(f,function(c){var d=b,e;e=a.split("/");var c=c.split("/"),f=!1;for(e.pop();".."==c[0]&&e.length;)e.pop(),c.shift(),f=!0;"."==c[0]&&(c.shift(),f=!0);f&&(c=e.concat(c));e=c.join("/");return d(e)}));return d[a]}var c={},d={},f=Array.isArray||function(a){return a.constructor==
Array},g=Array.map||function(a,b,c){for(var d=0,e=a.length,f=[];d<e;d++)f.push(b.call(c,a[d]));return f};e("lib/utils",[],function(){var a=[];return{isDomObj:function(a){return!!a.nodeType||a===window},toArray:function(b,c){return a.slice.call(b,c)},merge:function(){for(var a=arguments.length,b=0,c=Array(a+1);b<a;b++)c[b+1]=arguments[b];return 0===a?{}:(c[0]={},!0===c[c.length-1]&&(c.pop(),c.unshift(!0)),$.extend.apply(void 0,c))},push:function(a,b,c){return a&&Object.keys(b||{}).forEach(function(d){if(a[d]&&
c)throw Error("utils.push attempted to overwrite '"+d+"' while running in protected mode");"object"==typeof a[d]&&"object"==typeof b[d]?this.push(a[d],b[d]):a[d]=b[d]},this),a},isEnumerable:function(a,b){return-1<Object.keys(a).indexOf(b)},compose:function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}},uniqueArray:function(a){for(var b={},c=[],d=0,e=a.length;d<e;++d)b.hasOwnProperty(a[d])||(c.push(a[d]),b[a[d]]=1);return c},debounce:function(a,
b,c){"number"!=typeof b&&(b=100);var d,e;return function(){var f=this,g=arguments,h=c&&!d;return clearTimeout(d),d=setTimeout(function(){d=null;c||(e=a.apply(f,g))},b),h&&(e=a.apply(f,g)),e}},throttle:function(a,b){"number"!=typeof b&&(b=100);var c,d,e,f,g,h,n=this.debounce(function(){g=f=!1},b);return function(){c=this;d=arguments;return e||(e=setTimeout(function(){e=null;g&&(h=a.apply(c,d));n()},b)),f?g=!0:(f=!0,h=a.apply(c,d)),n(),h}},countThen:function(a,b){return function(){if(!--a)return b.apply(this,
arguments)}},delegate:function(a){return function(b,c){var d=$(b.target),e;Object.keys(a).forEach(function(f){if((e=d.closest(f)).length)return c=c||{},c.el=e[0],a[f].apply(this,[b,c])},this)}}}});e("lib/registry",["./utils"],function(){function a(b,c){var d,e,f,g=c.length;return"function"==typeof c[g-1]&&(g-=1,f=c[g]),"object"==typeof c[g-1]&&(g-=1),2==g?(d=c[0],e=c[1]):(d=b.node,e=c[0]),{element:d,type:e,callback:f}}return new function(){function b(a){this.component=a;this.attachedTo=[];this.instances=
{};this.addInstance=function(a){var b=new c(a);return this.instances[a.identity]=b,this.attachedTo.push(a.node),b};this.removeInstance=function(a){delete this.instances[a.identity];a=this.attachedTo.indexOf(a.node);-1<a&&this.attachedTo.splice(a,1);this.instances.length||d.removeComponentInfo(this)};this.isAttachedTo=function(a){return-1<this.attachedTo.indexOf(a)}}function c(a){this.instance=a;this.events=[];this.addBind=function(a){this.events.push(a);d.events.push(a)};this.removeBind=function(a){for(var b=
0,c;c=this.events[b];b++)c.element==a.element&&(c.type==a.type&&(null==a.callback||c.callback==a.callback))&&this.events.splice(b,1)}}var d=this;(this.reset=function(){this.components=[];this.allInstances={};this.events=[]}).call(this);this.addInstance=function(a){var c=this.findComponentInfo(a);c||(c=new b(a.constructor),this.components.push(c));var d=c.addInstance(a);return this.allInstances[a.identity]=d,c};this.removeInstance=function(a){this.findInstanceInfo(a);var b=this.findComponentInfo(a);
b&&b.removeInstance(a);delete this.allInstances[a.identity]};this.removeComponentInfo=function(a){a=this.components.indexOf(a);-1<a&&this.components.splice(a,1)};this.findComponentInfo=function(a){for(var a=a.attachTo?a:a.constructor,b=0,c;c=this.components[b];b++)if(c.component===a)return c;return null};this.findInstanceInfo=function(a){return this.allInstances[a.identity]||null};this.findInstanceInfoByNode=function(a){var b=[];return Object.keys(this.allInstances).forEach(function(c){c=this.allInstances[c];
c.instance.node===a&&b.push(c)},this),b};this.on=function(b){var c=d.findInstanceInfo(this),e;e=arguments.length;for(var f=1,g=Array(e-1);f<e;f++)g[f-1]=arguments[f];c&&((e=b.apply(null,g))&&(g[g.length-1]=e),g=a(this,g),c.addBind(g))};this.off=function(b,c,e){var f=a(this,arguments),g=d.findInstanceInfo(this);g&&g.removeBind(f)};window.DEBUG&&DEBUG.enabled&&(d.trigger=new Function);this.teardown=function(){d.removeInstance(this)};this.withRegistration=function(){this.before("initialize",function(){d.addInstance(this)});
this.around("on",d.on);this.after("off",d.off);window.DEBUG&&DEBUG.enabled&&this.after("trigger",d.trigger);this.after("teardown",{obj:d,fnName:"teardown"})}}});e("lib/compose",["./utils"],function(){function a(d,e){if(b){var f=Object.create(null);Object.keys(d).forEach(function(a){if(0>c.indexOf(a)){var b=Object.getOwnPropertyDescriptor(d,a);b.writable=e;f[a]=b}});Object.defineProperties(d,f)}}var b=!1,c=["mixedIn"];if(b)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(d){b=!1}return{mixin:function(b,
c){b.mixedIn=b.hasOwnProperty("mixedIn")?b.mixedIn:[];c.forEach(function(c){-1==b.mixedIn.indexOf(c)&&(a(b,!1),c.call(b),b.mixedIn.push(c))});a(b,!0)},unlockProperty:function(a,c,d){var e;!b||!a.hasOwnProperty(c)?d.call(a):(e=Object.getOwnPropertyDescriptor(a,c).writable,Object.defineProperty(a,c,{writable:!0}),d.call(a),Object.defineProperty(a,c,{writable:e}))}}});e("lib/advice",["./utils","./compose"],function(a,b){var c={around:function(a,b){return function(){var c=0,d=arguments.length,e=Array(d+
1);for(e[0]=a.bind(this);c<d;c++)e[c+1]=arguments[c];return b.apply(this,e)}},before:function(a,b){var c="function"==typeof b?b:b.obj[b.fnName];return function(){return c.apply(this,arguments),a.apply(this,arguments)}},after:function(a,b){var c="function"==typeof b?b:b.obj[b.fnName];return function(){var b=(a.unbound||a).apply(this,arguments);return c.apply(this,arguments),b}},withAdvice:function(){["before","after","around"].forEach(function(a){this[a]=function(d,e){b.unlockProperty(this,d,function(){return"function"==
typeof this[d]?this[d]=c[a](this[d],e):this[d]=e})}},this)}};return c});e("lib/component",["./advice","./utils","./compose","./registry"],function(a,b,c,d){function e(){var a=d.findInstanceInfo(this);a.events.slice().forEach(function(a){var b=[a.type];a.element&&b.unshift(a.element);"function"==typeof a.callback&&b.push(a.callback);this.off.apply(this,b)},a.instance)}function f(){var a=d.findComponentInfo(this);a&&Object.keys(a.instances).forEach(function(b){a.instances[b].instance.teardown()})}function g(){this.trigger=
function(){var a,b,c,d,e;b=arguments.length-1;var f=arguments[b];"string"!=typeof f&&(!f||!f.defaultBehavior)&&(b--,c=f);1==b?(a=$(arguments[0]),d=arguments[1]):(a=this.$node,d=arguments[0]);d.defaultBehavior&&(e=d.defaultBehavior,d=$.Event(d.type));b=d.type||d;if(window.DEBUG&&window.DEBUG.enabled&&window.postMessage){f=c;try{window.postMessage(f,"*")}catch(n){throw console.log("unserializable data for event",b,":",f),Error(["The event",b,"on component",this.toString(),"was triggered with non-serializable data"].join(" "));
}}return"object"==typeof this.attr.eventData&&(c=$.extend(!0,{},this.attr.eventData,c)),a.trigger(d||b,c),e&&!d.isDefaultPrevented()&&(this[e]||e).call(this),a};this.on=function(){var a,c,d,e,f=arguments.length-1,n=arguments[f];"object"==typeof n?e=b.delegate(this.resolveDelegateRules(n)):e=n;2==f?(a=$(arguments[0]),c=arguments[1]):(a=this.$node,c=arguments[0]);if("function"!=typeof e&&"object"!=typeof e)throw Error("Unable to bind to '"+c+"' because the given callback is not a function or an object");
return d=e.bind(this),d.target=e,e.guid&&(d.guid=e.guid),a.on(c,d),e.guid=d.guid,d};this.off=function(){var a,b,c,d=arguments.length-1;return"function"==typeof arguments[d]&&(c=arguments[d],d-=1),1==d?(a=$(arguments[0]),b=arguments[1]):(a=this.$node,b=arguments[0]),a.off(b,c)};this.resolveDelegateRules=function(a){var b={};return Object.keys(a).forEach(function(c){if(!c in this.attr)throw Error('Component "'+this.toString()+'" wants to listen on "'+c+'" but no such attribute was defined.');b[this.attr[c]]=
a[c]},this),b};this.defaultAttrs=function(a){b.push(this.defaults,a,!0)||(this.defaults=a)};this.select=function(a){return this.$node.find(this.attr[a])};this.initialize=$.noop;this.teardown=e}function q(a){for(var c=arguments.length,e=Array(c-1),f=1;f<c;f++)e[f-1]=arguments[f];if(!a)throw Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var n=b.merge.apply(b,e);$(a).each(function(a,b){var c=b.jQuery?b[0]:b,e=d.findComponentInfo(this);(!e||!e.isAttachedTo(c))&&
new this(b,n)}.bind(this))}function p(){function b(a,c){c=c||{};this.identity=r++;if(!a)throw Error("Component needs a node");a.jquery?(this.node=a[0],this.$node=a):(this.node=a,this.$node=$(a));this.toString=b.toString;window.DEBUG&&window.DEBUG.enabled&&(this.describe=this.toString());var d=Object.create(c),e;for(e in this.defaults)c.hasOwnProperty(e)||(d[e]=this.defaults[e]);this.attr=d;Object.keys(this.defaults||{}).forEach(function(a){if(null===this.defaults[a]&&null===this.attr[a])throw Error('Required attribute "'+
a+'" not specified in attachTo for component "'+this.toString()+'".');},this);this.initialize.call(this,c)}for(var e=arguments.length,i=Array(e),k=0;k<e;k++)i[k]=arguments[k];return b.toString=function(){return i.map(function(a){return null==a.name?(a=a.toString().match(n))&&a[1]?a[1]:"":"withBaseComponent"!=a.name?a.name:""}).filter(Boolean).join(", ")},window.DEBUG&&window.DEBUG.enabled&&(b.describe=b.toString()),b.attachTo=q,b.teardownAll=f,i.unshift(g,a.withAdvice,d.withRegistration),c.mixin(b.prototype,
i),b}var n=/function (.*?)\s?\(/,r=0;return p.teardownAll=function(){d.components.slice().forEach(function(a){a.component.teardownAll()});d.reset()},p});e("lib/logger",["./compose","./utils"],function(a,b){function c(a){var b=(a.tagName?a.tagName.toLowerCase():a.toString())+(a.className?"."+a.className:"");return a.tagName?["'","'"].join(b):b}function d(a,b,f){var g,n,h,i,t,v,l,u;"function"==typeof f[f.length-1]&&(h=f.pop(),h=h.unbound||h);"object"==typeof f[f.length-1]&&f.pop();2==f.length?(n=f[0],
g=f[1]):(n=b.$node[0],g=f[0]);window.DEBUG&&window.DEBUG.enabled&&(t=DEBUG.events.logFilter,l="all"==t.actions||-1<t.actions.indexOf(a),v=function(a){return a.test?a:RegExp("^"+a.replace(/\*/g,".*")+"$")},u="all"==t.eventNames||t.eventNames.some(function(a){return v(a).test(g)}),l&&u&&console.info(e[a],a,"["+g+"]",c(n),b.constructor.toString(),h&&(i=h.name||h.displayName)&&"->  "+i))}var e={on:"<-",trigger:"->",off:"x "};return function(){this.before("trigger",function(){d("trigger",this,b.toArray(arguments))});
this.before("on",function(){d("on",this,b.toArray(arguments))});this.before("off",function(a){d("off",this,b.toArray(arguments))})}});e("lib/index","./advice ./component ./compose ./logger ./registry ./utils".split(" "),function(a,b,c,d,e,f){return{advice:a,component:b,compose:c,logger:d,registry:e,utils:f}});a.flight=b("lib/index")})(this);
WicketFlightManager=function(a,e){function b(a){a=e(a);return a.find(h).add(a.filter(h))}function c(a){var a=e(a).data(),b,c,d={};for(b in a)0===b.indexOf(i)&&b.length>j&&(c=b.charAt(j).toLowerCase()+b.substring(j+1),d[c]=a[b]);return d}function d(){var a=this.getAttribute("data-component");g.hasOwnProperty(a)&&g[a].attachTo(this,c(this))}function f(a){b(a).each(d)}var g={},h=".js-component",i="component",j=i.length,l=!1,k=a.Event,o=k.Topic;k.subscribe(o.DOM_NODE_REMOVING,function(a,c){b(c).trigger("teardown")});
k.subscribe(o.DOM_NODE_ADDED,function(a,b){f(b)});e(function(){f(document.body);l=!0});e(window).on("unload",function(){for(var a in g)g[a].teardownAll()});return{registerComponent:function(a,b){g[a]=b},getComponent:function(a){return g[a]||null},attachElements:f,isInitialized:function(){return l}}}(Wicket,jQuery);
defineComponent=function(a,e){function b(){this.after("initialize",function(){this.on("teardown",function(a,b){this.teardown();b||a.stopPropagation()})})}function c(){this.getNameSpacedEventName=function(a){return a+"."+this.name}}return function(d){var f=d.mixins,g=d.name,d=d.parent;"function"===typeof f&&(f=[f]);d?(d=d.prototype.mixedIn.slice(3),f=d.concat(f)):(f.unshift(b),f.unshift(c));f.push(function(){this.name=g});f=e.component.apply(null,f);g&&a.registerComponent(g,f);return f}}(WicketFlightManager,
flight);
mixinFlyout=function(a){return function(){this.hasOpenFlyout=function(){return this.$node.hasClass(a.HAS_OPEN_FLYOUT)};this.toggleHasOpenFlyoutClass=function(e){"ftd"===e.namespace&&("open"===e.type?this.$node.addClass(a.HAS_OPEN_FLYOUT):this.$node.removeClass(a.HAS_OPEN_FLYOUT))};this.addClientSideFlyoutBehavior=function(a){a.options&&a.trigger&&(a.trigger.attr(a.options),this.trigger(document,"addFlyoutHandlerWithoutAjax",a.trigger));if(a.onOpen)this.on(a.trigger,"open.ftd",a.onOpen);if(a.onClose)this.on(a.trigger,"close.ftd",
a.onClose)};this.after("initialize",function(){this.on("open.ftd close.ftd",this.toggleHasOpenFlyoutClass)})}}(CssUtils.modifier);
mixinTemplate=function(a,e){return function(){this.defaultAttrs({templateSelector:".js-template"});this.templates=null;this.getTemplate=function(b){return this.templates[b]||a()};this.isScriptTagTemplate=function(a){return(a=this.getTemplate(a).prop("tagName"))?"SCRIPT"===a.toUpperCase():!1};this.getTemplateContent=function(b){b=this.isScriptTagTemplate(b)?a(this.getTemplateContentAsHtmlString(b)):this.getTemplate(b).children();e.attachElements(b);return b};this.getTemplateContentAsHtmlString=function(b){return(b=
this.getTemplate(b).html())?a.trim(b):""};this.checkAndDetachTemplate=function(b){b.each(function(b,d){d=a(d);d.data("templatePreventDetach")||d.detach()}.bind(this))};this.addTemplate=function(b){b.each(function(b,d){var d=a(d),e=d.data("templateName");this.templates[e]=d}.bind(this))};this.initializeTemplates=function(){var a=this.select("templateSelector");this.templates={};this.addTemplate(a);this.checkAndDetachTemplate(a)};this.after("initialize",function(){this.initializeTemplates()})}}(jQuery,
WicketFlightManager,phx.util);mixinTrack=function(a){return function(){this.triggerPixel=function(a){this.trigger(document,"trackEvent.statistics",a)};this.hasTracking=function(){return!!this.attr.track};this.logPixelError=function(e){a.Log.error("PixelId",e||"","for tracking undefined")};this.track=function(a,b){var c,d=[];this.hasTracking()&&(c=a?this.attr.track[a]:this.attr.track,void 0!==c?(d.push(c),b&&d.push({labels:JSON.stringify(b)}),this.triggerPixel(d)):this.logPixelError(a))}}}(Wicket);
mixinPopup=function(a,e){return function(){this.defaultAttrs({linkHook:".js-popup",linkTarget:"_blank",popupWidth:"940",popupHeight:"720",showLocation:!0,showToolbar:!0});this.getOptionString=function(){var b=[];a.each(this.getOptions(),function(a,d){b.push(a+"="+d)});return b.join(",")};this.getOptions=function(){return{width:this.attr.popupWidth,height:this.attr.popupHeight,location:this.attr.showLocation?1:0,toolbar:this.attr.showToolbar?1:0}};this.openPopUp=function(a){var c;return a&&(a=this.getJsPopupHookElement(a.target),
a=this.getPopUpConfig(a))?(c=this.hasToolbarSupport()?this.getOptionString():void 0,window.open(a.href,a.target,c)):null};this.hasToolbarSupport=function(){return e.userAgent.is("chrome")?!1:!0};this.getJsPopupHookElement=function(b){return b?(b=a(b),b.hasClass(this.attr.linkHook)?b:b.closest(this.attr.linkHook)):null};this.getPopUpConfig=function(a){return a?{href:a.attr("href"),target:a.attr("target")||this.attr.linkTarget}:null};this.openAndFocusPopup=function(a){return"object"===typeof a?(a=this.openPopUp(a),
this.setWindowFocus(a)):null};this.setWindowFocus=function(b){return a.isWindow(b)?(b.focus(),b):null};this.onClick=function(a){a&&(a.preventDefault(),this.openAndFocusPopup(a))};this.isHookElement=function(){return this.$node.is(this.attr.linkHook)};this.initializeClickEvent=function(){if(this.isHookElement())this.on("click",this.onClick);else this.on("click",{linkHook:this.onClick})};this.after("initialize",this.initializeClickEvent)}}(jQuery,phx.util);
mixinToggleVisibility=function(){return function(){this.defaultAttrs({toggleVisibilityTriggerElement:null,toggleVisibilityMinimizedCssClassName:"is-minimized"});this.onClickToggleVisibilityTrigger=function(){this.getToggleVisibilityMinimizeElement().toggleClass(this.attr.toggleVisibilityMinimizedCssClassName)};this.getToggleVisibilityMinimizeElement=function(){return this.attr.toggleVisibilityMinimizeElement?this.select("toggleVisibilityMinimizeElement"):this.$node};this.addToggleVisibilityHandler=
function(){this.on("click",{toggleVisibilityTriggerElement:this.onClickToggleVisibilityTrigger})};this.after("initialize",function(){this.addToggleVisibilityHandler()})}}(jQuery);
mixinEic=function(){return function(){this.eicID=this.eic=null;this.eicConnect=function(a){a=a||0;if(this.getEicContext())return this.trigger("onEicInitialize"),!0;10>a&&window.setTimeout(function(){this.eicConnect(++a)}.bind(this),100);return!1};this.getEicContext=function(){this.eic||(this.eic=window.com&&com.unitedinternet&&com.unitedinternet.eic||null);return this.eic};this.eicListen=function(){this.eic.isListen||(this.eic.listen(),this.eic.isListen=!0)};this.eicRegisterCommand=function(a,e){return a&&
"function"===typeof e?(this.eic.commands[a]=e,!0):!1};this.eicRegisterFrame=function(a){return this.getEicContext()&&"iframe"===a.tagName.toLowerCase()?(this.eicID=this.eic.frames.length,this.eic.frames.push(a),!0):!1};this.getEicParams=function(){return this.eic.params({url:this.getEicClientUrl(),id:this.eicID})};this.getEicClientUrl=function(){try{return location.protocol+"//"+location.host}catch(a){return"*"}};this.onEicInitialize=function(){this.eicListen()};this.after("initialize",function(){this.on("onEicInitialize",
this.onEicInitialize);this.eicConnect()})}}();
mixinKeypress=function(a,e){return function(){this.defaultAttrs({keySupportWhiteList:"input, textarea, select",keySupportBlackList:":checkbox"});this.keyBindings={};this.hasActiveKeyController=!1;this.keyController=function(a){var c=this.getKey(a.which);if(c&&!this.isSystemKeyCombo(a)&&!this.hasGallery()&&(!c.preventIFrameKeys||!this.isIFrame(a.target)))(!c.preventInputKeys||!this.isInputElementWithKeySupport(a.target))&&c.callback.call(this,a)};this.isSystemKeyCombo=function(a){return!!this.isKeyCombinationWithDelete(a)};
this.isKeyCombinationWithDelete=function(a){return!(!this.isMetaKey(a)||!this.isDeleteKey(a))};this.isMetaKey=function(a){return!(!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&!a.altKey)};this.isDeleteKey=function(a){return a.keyCode===e.DELETE};this.isIFrame=function(b){return a(b).is("iframe")?!0:!1};this.hasGallery=function(){return a("html").hasClass("slideshow-visible")?!0:!1};this.isInputElementWithKeySupport=function(b){return a(b).is(this.attr.keySupportWhiteList)&&!a(b).is(this.attr.keySupportBlackList)?
!0:!1};this.startKeyListener=function(){this.hasActiveKeyController||(this.on(document,"keydown",this.keyController),this.hasActiveKeyController=!0)};this.stopKeyListener=function(){this.off(document,"keydown",this.keyController);this.hasActiveKeyController=!1};this.addKey=function(b,c,d){this.keyBindings[b]=a.extend({preventInputKeys:!0,preventIFrameKeys:!1,callback:c},d)};this.removeKey=function(a){delete this.keyBindings[a]};this.getKey=function(a){return this.keyBindings.hasOwnProperty(a)?this.keyBindings[a]:
null}}}(jQuery,phx.util.KEYS);
BasePage=function(a,e){return e({name:"BasePage",mixins:[function(){this.defaultAttrs({callbackUrl:null});this.onPostMessage=function(a,c){if(this.attr.callbackUrl){var d={u:this.attr.callbackUrl,ep:{usecase:c.usecase,payload:JSON.stringify(c.payload||{})}};c.onSuccess&&(d.sh=[c.onSuccess]);c.onFailure&&(d.fh=[c.onFailure]);c.onDone&&(d.coh=[c.onDone]);Wicket.Ajax.post(d)}};this.after("initialize",function(){this.on(document,"postMessage",this.onPostMessage)})}]})}(jQuery,defineComponent);
(function(a){function e(b){return a(b).closest(".ftd-box, .stage-wrapper, body")}function b(a){var b={};"trigger behavior cache target position offset centerstem".split(" ").forEach(function(c){var d=a.getAttribute("data-ftd-"+c);d?b[c]=d:c in q&&(b[c]=q[c])});var c=b.offset,d=b.position,e=c.split(/\s+/).map(Math.floor),c={x:e[0]||0,y:e[1]||0};1===e.length&&/^(?:right|left)$/.test(d)&&(c.y=-14);b.offset=c;b.cache="false"!==b.cache;b.centerstem="false"!==b.centerstem;return b}function c(a){return a.getAttribute("data-ftd-trigger")||
"flyoutTopLevel"}function d(b){var d,e;if(b){if("string"!==typeof b&&(b=b.getAttribute("data-ftd-trigger")?c(b):this.id),(d=m[b])&&d.open)e=a("#"+b),s(e),e.off(".ftd"),e.hide(),d.open=!1,d=a("#"+d.trigger),b=a.Event("close.ftd",{ftdId:b}),d.trigger(b)}else for(d in m)if((b=m[d])&&b.open)e=a("#"+d),e.off(".ftd"),e.hide(),b.open=!1,b=a("#"+b.trigger),e=a.Event("close.ftd",{ftdId:d}),b.trigger(e)}function f(a){if((a=m[a.data.ftdId])&&a.loading)a.aborted=!0}function g(a){d(a.data.ftdId)}function h(b){var c=
{ftdId:b};a("iframe").not(".adframe").each(function(){try{a(this.contentWindow.document).one("click",c,g)}catch(b){}})}function i(b,c){var d,f,n;n=a(b);f=a(".dialog-container");d=e(b);0<n.closest(f).length&&(d=f);return(+d.css("z-index")||0)+("tooltip"===c?1E3:100)}function j(d){var e,f,n,g,h,r;"string"===typeof d&&(d={target:document.getElementById(d)});e=d.target;f=c(e);n=m[f];n.trigger!==e.id&&(e=document.getElementById(n.trigger));h=b(e);g=h.target?document.getElementById(h.target):e;f=a("#"+
f);r=a(e);f.css("z-index",i(e,h.behavior));phx.placeFtd(f,a(g),r,h);n.open=!0;n.timestamp=Date.now();p[h.behavior].close(d.target);r.trigger("open.ftd")}function l(){var a=this.getAttribute("data-ftd-trigger");return!(!a||!document.getElementById(a))}function k(){var d,e,f;d=a(this);e=b(this);this.id||(this.id="ftd"+c._id++);d.on("tooltip"===e.behavior?"mouseenter":"click",function(){phx.startAjax(this.id)&&phx.ajaxDone(this.id)});d.on({"preopen.ftd":function(){var b=a("#"+c(this));f=b.prev();a("body").append(b)},
"close.ftd":function(){var b=a("#"+c(this));f&&f.after(b)}})}function o(){window.setTimeout(function(){var a,b;for(b in m)a=m[b],a.open&&j(a.trigger)},0)}var m,q,p,n,r,s;m={};q={behavior:"flyout",cache:!0,offset:"0",position:"bottom"};s=function(a){var b,c,e,f=0;b={};for(c in m)if((e=m[c])&&e.open)b[e.trigger]=c,f++;0!==f&&a.find("[data-ftd-trigger]").each(function(){this.id in b&&(d(b[this.id]),delete b[this.id])})};p={tooltip:{close:function(b){var d=c(b),b=a(b),d={ftdId:d};b.one("mouseleave.ftd",
d,g);a(document).one("click.ftd",d,g);b.closest(".js-scroll-pane").one("scroll.ftd",d,g)},abort:function(b){var d=c(b);a(b).one("mouseleave.ftd",{ftdId:d},f)}},flyout:{close:function(b){var d,e;d=c(b);e={ftdId:d};a("#"+d).on("click.ftd",function(a){a.stopPropagation()});a(document).one("click.ftd",e,g);a(b).closest(".js-scroll-pane").one("scroll.ftd",e,g);h(d)},abort:function(b){b=c(b);a(document).one("click.ftd",{ftdId:b},f)}},dropdown:{close:function(b){var d=c(b),e={ftdId:d};a(document).one("click.ftd",
e,g);a(b).closest(".js-scroll-pane").one("scroll.ftd",e,g);h(d)}},script:{close:function(a){a=c(a);h(a)}}};p.script.abort=p.dropdown.abort=p.flyout.abort;c._id=0;r=a(document);r.on("startAjax","[data-ftd-trigger]",function(a){var b;if(b=this.getAttribute("data-ftd-trigger"))if((b=m[b])&&b.loading)b.trigger=this.id,a.preventDefault(),a.stopImmediatePropagation()});r.on("startAjax","[data-ftd-trigger]",function(b){0<a(this).closest("[disabled], .inactive, .disabled").length&&(b.preventDefault(),b.stopImmediatePropagation())});
r.on("startAjax","[data-ftd-trigger]",function(b){var e,f;e=c(this);if((f=m[e])&&f.open)f.trigger===this.id?(b.preventDefault(),b.stopImmediatePropagation(),300<Date.now()-f.timestamp&&d(e)):f.cache&&(b.preventDefault(),b.stopImmediatePropagation(),a("#"+f.trigger).trigger("close.ftd"),f.trigger=this.id,j({target:this}))});r.on("startAjax","[data-ftd-trigger]",function(a){var b;if(b=this.getAttribute("data-ftd-trigger"))if((b=m[b])&&b.loaded)a.preventDefault(),a.stopImmediatePropagation(),a=e(this),
s(a),b.trigger=this.id,j({target:this})});r.on("startAjax","[data-ftd-trigger]",function(){var a,d;a=b(this);s(e(this));(d=a.trigger)||(a.cache?(d="ftd"+c._id++,this.setAttribute("data-ftd-trigger",d)):d="flyoutTopLevel");m[d]={aborted:!1,loaded:!1,loading:!0,open:!1,trigger:this.id};p[a.behavior].abort(this)});n=a("[data-ftd-trigger]");n.wicketLive({click:function(a){"tooltip"!==this.getAttribute("data-ftd-behavior")&&a.stopPropagation()}});r.on("ajaxDone","[data-ftd-trigger]",function(a){var d,
e;e=b(this);e.cache&&(d=document.getElementById(e.trigger),d||(d=document.getElementById("flyoutTopLevel"),d.id=e.trigger,e=document.createElement("div"),e.id="flyoutTopLevel",d.parentNode.appendChild(e)));d=c(this);d=m[d];d.loading=!1;d.loaded=!0;d.aborted||j(a)});n.filter(l).each(k);phx.event.subscribe(phx.events.WICKET_AJAX_DONE,function(b){a(b.added).find("[data-ftd-trigger]").addBack("[data-ftd-trigger]").filter(l).each(k)});a(document).on("addFlyoutHandlerWithoutAjax",function(b,c){a(c).each(k)});
a(document).on(phx.events.RESIZE_HANDLED,o);phx.event.subscribe(phx.events.RESIZE_HANDLED,o);phx.ftd={open:j,close:d,closeAllWithin:s,isOpen:function(a){var b,d;b=!1;if(a)a in m||(b=document.getElementById(a))&&(a=c(b)),a=m[a],b=!(!a||!a.open);else for(d in m)if(m[d].open){b=!0;break}return b},getFtdId:c}})(jQuery);
(function(a){var e={top:{left:function(a){var c,d,e;c=a.ftd;d=a.target;e=c.offset.x;return d.left+e-Math.max(0,c.width-d.width+e-a.marginToViewport.right)},top:function(a){return Math.max(0,a.target.top-a.ftd.height+a.ftd.offset.y)},stem:function(a){var c,d,e;c=a.target.width;d=a.target.left;e=a.stem.width;d-=a.ftd.left;c=a.stem.center?d+Math.max(6,c/2)-e/2:d+Math.max(6,Math.min(30,c/2))-e/2;a.stem.element.css({left:Math.max(6,Math.min(c,a.ftd.width-e-6))})}},"top-right":{left:function(a){var c,d,
e,g;c=a.ftd;d=a.target;e=c.width;g=d.width;c=c.offset.x;return d.left+g+c-e+Math.max(0,e-c-g-a.marginToViewport.left)},stem:function(a){var c,d,e,g;c=a.target;d=a.ftd;e=c.width;g=a.stem.width;c=d.left+d.width-(c.left+e)+Math.max(6,Math.min(30,e/2))-g/2;a.stem.element.css({right:Math.max(6,Math.min(c,d.width-g-6)),left:"auto"})}},bottom:{top:function(a){return Math.max(0,a.target.top+a.target.height+a.ftd.offset.y)}},"bottom-right":{},left:{left:function(a){return a.target.left-a.ftd.width+a.ftd.offset.x},
top:function(a){var c,d,e,g;c=a.ftd;d=a.target;e=c.height;g=d.height;c=c.offset.y;return Math.max(0,d.top+c-Math.max(0,e-g+c-a.marginToViewport.bottom))},stem:function(a){var c,d,e,g;c=a.ftd;d=a.target;e=d.top-c.top;g=d.height;d=a.stem.height;e=e+Math.max(6,Math.min(30,g/2))-d/2;a.stem.element.css({top:Math.max(6,Math.min(e,c.height-d-6))})}},right:{left:function(a){return a.target.left+a.target.width+a.ftd.offset.x}}};e.bottom.left=e.top.left;e.bottom.stem=e.top.stem;e.right.top=e.left.top;e.right.stem=
e.left.stem;e["top-left"]=e.top;e["bottom-left"]=e.bottom;e["top-right"].top=e.top.top;e["bottom-right"].top=e.bottom.top;e["bottom-right"].left=e["top-right"].left;e["bottom-right"].stem=e["top-right"].stem;phx.placeFtd=function(b,c,d,f){var g;b.children(".ftd-box-stem").css({top:"",right:"",bottom:"",left:""});b.find(".body").css("max-height","");b.css({top:0,left:0,display:"block",visibility:"hidden"});g=a.Event("preopen.ftd",{ftdId:b.attr("id")});d.trigger(g);d=b.children(".ftd-box-stem");g=f.offset;
var h=f.centerstem,d={ftd:{element:b,width:b.outerWidth(!0),height:b.outerHeight(!0),offset:g},target:{element:c,width:c.outerWidth(),height:c.outerHeight()},stem:{element:d,width:d.outerWidth(),height:d.outerHeight(),has:b.is(".stem-north, .stem-east, .stem-south, .stem-west"),center:h}};a.extend(d.target,c.offset());var i,h=a(".section-1 .section-container");i=h.offset();g=i.left+h.outerWidth()+10;h=i.top+h.outerHeight()+10;c=c.marginToViewport(g,h,5);d.marginToViewport=c;f=f.position.split("-");
g=f[0];c=d.marginToViewport;h=d.ftd;i=h.offset;c={top:c.top-10>=h.height+i.y,right:c.right-10>=h.width+i.x,bottom:c.bottom-10>=h.height+i.y,left:c.left-10>=h.width+i.x};if(!c[g]){var j,h={top:"bottom",right:"left",bottom:"top",left:"right"}[g];i=d.marginToViewport;j=d.ftd.offset;if(c[h]||i[h]>i[g])g=h,"top"===g||"bottom"===g?j.y=-j.y:j.x=-j.x;f[0]=g}g=f[0];c=d.ftd;h=d.marginToViewport;i=h[g];if("left"===g||"right"===g)i=h.top+h.bottom;g=c.height+c.offset.y-i;0<g&&(h=c.element.find(".body"),h.css("max-height",
h.height()-g-5),c.height=c.height-g-5);f=f.join("-");d.stem.has&&(c=f.split("-")[0],g={top:"stem-south",bottom:"stem-north",left:"stem-east",right:"stem-west"},b.hasClass(g[c])||b.removeClass("stem-north stem-east stem-south stem-west").addClass(g[c]));d.ftd.left=e[f].left(d);d.ftd.top=e[f].top(d);e[f].stem(d);b.css({left:d.ftd.left,top:d.ftd.top,visibility:"visible"})}})(jQuery);
(function(a){function e(b){var c=a(b.target);c.closest(".gui-toggle").toggleClass("minimized");"hidden"===c.data("trigger-visibility")&&c.closest(".gui-toggle-trigger-container").remove();phx.event.publish(phx.events.GUI_TOGGLE_TOGGLED,{target:b.target,causedBy:b})}a("[data-ftd-trigger]").wicketLive({"preopen.ftd":function(b){a("#"+b.ftdId).on("click",".gui-toggle-trigger",e)},"close.ftd":function(b){a("#"+b.ftdId).off("click",".gui-toggle-trigger",e)}});a("body").on("click",".gui-toggle-trigger",
e)})(jQuery);
(function(a){function e(b){var c,d,f,g;c=a(b.target).closest(".js-focusable");d=c.outerHeight(!0);if("focusin"===b.type||"focus"===b.type)c.addClass("focused");else{if(f=+c.attr("data-focus-delay")){c.attr("data-focus-delay","0");window.setTimeout(function(){e(b);c.attr("data-focus-delay",f)},f);return}c.removeClass("focused")}g=c.outerHeight(!0);g<d?phx.event.publish(phx.events.COLLAPSED_QUICK_REPLY,{type:phx.events.COLLAPSED_QUICK_REPLY,target:c}):g>d&&phx.event.publish(phx.events.EXPANDED_QUICK_REPLY,{type:phx.events.EXPANDED_QUICK_REPLY,
target:c})}a(".js-focusable textarea, .js-focusable input:password, .js-focusable input:text").wicketLive({focus:e,blur:e})})(jQuery);(function(a){phx.util.userAgent.is("ie","opera")||a(".panel-search .form-input input").keypress(function(e){13===e.which&&a(".panel-search .form-input input").blur()});a(".panel-search form").on("submit",function(e){""===a(".panel-search input.input-text").val()&&(a(".panel-search .form-input input").blur(),e.preventDefault())})})(jQuery);
(function(a){function e(){var b,c;b=a(this.form||this);c=b.find("input:checked");b=b.find(".filter tfoot li");0===c.length?b.addClass("inactive"):1===c.length?b.removeClass("inactive"):b.filter(".no-multiple").addClass("inactive")}a("div.panel-setting input:checkbox").wicketLive({click:e}).closest("form").each(e)})(jQuery);
(function(a){function e(){a(document).trigger("closeLayer");a(".layer-overlay, .layer-root, .dialog-container").hide();phx.event.publish(phx.events.MODAL_DIALOG_CLOSE)}function b(a){a.css({"margin-left":-1*a.outerWidth()/2,"margin-top":-1*a.outerHeight()/2})}function c(c){var d=a(".layer-overlay"),e=a('<div class="spinner-icon"/>');a(".spinner-icon").remove();b(e);d.append(e);d.show();c?d.addClass("dark"):d.removeClass("dark")}function d(c){var d=a(".layer-root"),h=a("#"+c+" .layer-root"),c=a("#"+
c+".dialog-container");a(document).trigger("openLayer");phx.event.publish(phx.events.MODAL_DIALOG_OPEN);c.show();d.hide();b(h);h.show();a(".layer-close").click(e)}phx.showLayerOverlay=c;phx.showLayerRoot=d;phx.closeLayer=e;phx.isLayerVisible=function(){return"none"!==a(".layer-root").css("display")||"none"!==a(".layer-overlay").css("display")};phx.showLayerOverlayWithCountdown=function(b,e,h){var i=a("#"+b+" .layer-dialog"),j=i.find(".layer-countdown");c(e);d(b);j.on("countdownFinish",function(){a("#immediatelySubmitButton").find(".area").trigger("click");
i.removeClass("countdown");i.addClass("spinner");i.find(".layer-footer").slideUp(200)});phx.event.subscribe(phx.events.CANCEL_LAYER_COUNTDOWN,function(){j.trigger("countdownCancel")});j.countdown({timer:h})}})(jQuery);(function(a){function e(b){a(b.target).closest(".form-composite-list_item, .m-form-item, .form-item").find(":checkbox, :radio").each(function(){this.checked||(this.checked=!0,a(this).trigger("click",b))})}0===a(".panel-setting iframe").length&&a(".js-autoselect-formpart input[type=text], .js-autoselect-formpart select").wicketLive({focus:e})})(jQuery);
(function(a){function e(){a("[placeholder].empty").val(function(){return this.getAttribute("placeholder")})}function b(){a("[placeholder].empty").val("");window.setTimeout(e,0)}phx.event.subscribe(phx.events.WICKET_AJAX_DONE,function(b){a(b.added).placeholder()});!("placeholder"in document.createElement("input"))&&"object"===typeof Wicket&&Wicket.Event.subscribe(Wicket.Event.Topic.AJAX_CALL_BEFORE,b)})(jQuery);
(function(a){function e(a){if(a||!phx.editor||phx.editor.isReady())h.hide(),g.css("cursor","auto"),c=window.clearTimeout(c),d=window.clearTimeout(d)}function b(){f||(h.show(),window.clearTimeout(c),c=window.setTimeout(function(){e(!0)},5E3),window.clearTimeout(d),d=window.setTimeout(function(){g.css("cursor","wait")},200));f=!1}var c,d,f=!1,g=a("body"),h=a("#blocker"),a=Wicket.Event,i=a.Topic;phx.event.subscribe(phx.events.SHOW_BLOCKER,b);phx.event.subscribe(phx.events.HIDE_BLOCKER,e);phx.event.subscribe(phx.events.DISABLE_BLOCKER_ONCE,
function(){f=!0});a.subscribe(i.AJAX_CALL_BEFORE_SEND,b);a.subscribe(i.AJAX_CALL_COMPLETE,e)})(jQuery);(function(a){a(".ftd-box input:text, .js-prevent-submit input:text").wicketLive({keydown:function(a){13===a.keyCode&&a.preventDefault()}})})(jQuery);
(function(a){if(phx.util.userAgent.is("ie8")){var e=phx.util.colors.menuSubHover(),b=e.bgColor(),c=e.textColor();a(document).on({mouseenter:function(){this.style.backgroundColor=b;this.style.color=c},mouseleave:function(){this.style.backgroundColor="";this.style.color=""}},".menu-item")}})(jQuery);
(function(a,e){var b,c,d,f,g;f={};g=e.IS_HIDDEN;b=function(a){"string"===typeof a&&(this.id=a,this.updateObjectReference())};phx.navigation||(phx.navigation={getFolder:function(a){return"string"===typeof a?!(a in f)?f[a]=new b(a):f[a]:null}});a.extend(b.prototype,{isSystemFolder:function(){return this.element.hasClass("system")},isPresetFolder:function(){return this.element.hasClass("preset")},isCustomFolder:function(){return this.element.hasClass("custom")},isMailCollectorFolder:function(){return this.element.hasClass("mailcollector")},
isOpen:function(){return this.element.hasClass("open")},isClose:function(){return!this.isOpen()},hasParent:function(){return this._hasParent=this._hasParent||!this.element.closest("ul").hasClass("lvl1")},hasSubfolders:function(){return 0<this.element.siblings("ul").length},data:function(a,b){if("undefined"===typeof b)return this.element.data(a)||0;this.element.data(a,b)},unreadCount:function(a){return this.data("unread-count",a)},unreadTotal:function(a){return this.data("unread-total",a)},folderTotal:function(a){return this.data("folder-total",
a)},getLabelText:function(){return a.trim(this.element.find(".label").text())},open:function(){this.hasSubfolders()&&(this.element.addClass("open"),this.updateUnreadCountNumber(),this.saveFolderOpenState(),phx.event.publish(phx.events.FOLDER_OPEN,this))},close:function(){this.isOpen()&&(this.element.removeClass("open"),this.updateUnreadCountNumber(),this.deleteFolderOpenState(),phx.event.publish(phx.events.FOLDER_CLOSE,this))},hideUnreadCount:function(){this.element.find(".unread-count").addClass(g)},
showUnreadCount:function(){this.element.find(".unread-count").removeClass(g)},updateObjectReference:function(){this.element=a("div.folder[data-folderid="+this.id+"]")},updateUnreadCountNumber:function(){var a;a=this.hasSubfolders()?this.isOpen()?this.unreadCount():this.unreadTotal():this.unreadCount();0<a?this.showUnreadCount():this.hideUnreadCount();this.element.find(".unread-count > .number").text(a)},updateLabelTitle:function(a){a=a||"string"===typeof a?a:this.getLabelText()+" ("+this.unreadCount()+
"/"+this.folderTotal()+")";this.element.find(".label").attr("title",a)},saveFolderOpenState:function(){var a=amplify.store("phx.navigation.openfolders")||{};this.id in a||(a[this.id]=!0,amplify.store("phx.navigation.openfolders",a))},deleteFolderOpenState:function(){var a=amplify.store("phx.navigation.openfolders")||{};delete a[this.id];amplify.store("phx.navigation.openfolders",a)}});c=function(){var b=amplify.store("phx.navigation.openfolders");"object"===typeof b&&a.each(b,function(a){phx.navigation.getFolder(a).open()})};
d=function(b){"object"===typeof b&&a.isArray(b.folders)?a.each(b.folders,function(a,b){f[b]&&f[b].updateObjectReference()}):a.each(f,function(a,b){b.updateObjectReference()})};var h=[];a("#navigation .folder.open").each(function(){var b=a(this).data("folderid");h.push(b)});c();a.isArray(h)&&a.each(h,function(a,b){phx.navigation.getFolder(b).saveFolderOpenState()});a("#navigation").on("click","div.folder a.toggle,div.folder a.label,div.folder a.unread-count",function(b){var c,d,e;"object"===typeof b&&
(c=a(b.target),e=c.closest("a"),d=c.closest("div.folder"),c=phx.navigation.getFolder(d.data("folderid")),(e.hasClass("label")||e.hasClass("unread-count"))&&c.isClose()?c.saveFolderOpenState():e.hasClass("toggle")&&(c.isOpen()?c.close():c.open()),phx.util.userAgent.is("ie8")&&d.parent().hide().show(),phx.event.publish("domchange",{target:b.target}))});phx.event.subscribe(phx.events.NAVIGATION_UPDATE_DATA,function(b){"object"===typeof b.folders&&b.folders&&jQuery.each(b.folders,function(a,b){var c=
phx.navigation.getFolder(a);c.unreadCount(b.unreadCount);c.hasSubfolders()&&c.unreadTotal(b.unreadTotal);c.folderTotal(b.folderTotal);c.updateLabelTitle();c.updateUnreadCountNumber()});"object"===typeof b.specials&&jQuery.each(b.specials,function(b,c){var d=a("#navigation [data-folderid="+b+"] span.number"),e=c.unreadCount;0<e?d.removeClass(g):d.addClass(g);a("#navigation [data-folderid="+b+"] span.number").text(e)})});phx.event.subscribe(phx.events.NAVIGATION_UPDATE,function(a){d(a);c()})})(jQuery,
CssUtils.modifier);
(function(a){var e,b,c,d,f,g,h;e=[".mail-directory div.nav-item","#navigation-contacts li.item"];b={mouseenter:function(){var b=a(this);b.data("isHover",!0);b.hasClass("hover")||b.addClass("hover")},mouseleave:function(){var b=a(this);b.data("isHover",!1);b.data("isFlyoutOpen")||b.removeClass("hover")}};phx.util.userAgent.is("ie8")&&(c=null,f=d=!1,b=phx.util.colors.folderHover(),g=b.bgColor(),h=b.textColor(),b={mouseenter:function(){var b=a(this),e=b.data("textElement");void 0===e&&(e=b.find(".text")[0])&&
b.data("textElement",e);f=!1;0===b.closest("#navigation-function").length&&(this.style.backgroundColor=g,e&&!b.hasClass("active")&&(e.style.color=h));null!==c&&clearTimeout(c);c=setTimeout(function(){!1===f&&(b.data("isHover",!0),b.hasClass("hover")||b.addClass("hover"),d=!0,c=null)},500)},mouseleave:function(){var b=a(this),c=b.data("textElement");0===b.closest("#navigation-function").length&&(this.style.backgroundColor="",c&&(c.style.color=""));!0===d&&(b.data("isHover",!1),b.data("isFlyoutOpen")||
b.removeClass("hover"),d=!1);f=!0}},e.push(".contact-list li"));if(!phx.util.userAgent.is("ios"))a("#navigation").on(b,e.join(","));a("#navigation [data-ftd-trigger]").wicketLive({"close.ftd":function(){var b=a(this).closest("div.folder");b.data("isHover")||b.removeClass("hover");b.removeData("isFlyoutOpen")},startAjax:function(){var b=a(this).closest("div.folder");b.addClass("hover");b.data("isFlyoutOpen",!0)}})})(jQuery);
(function(a){var e;Modernizr.cssanimations&&(e=function(){a(".folder .tools .refresh").removeClass("animate")},phx.event.subscribe(phx.events.REFRESH_ANIMATION_START,function(){a(".folder .tools .refresh").addClass("animate")}),phx.event.subscribe(phx.events.REFRESH_ANIMATION_STOP,e))})(jQuery);(function(a){a("#navigation").on("click",".icon.folder-add",function(){a(this).closest(".nav-item").find(".text.link").click()})})(jQuery);
(function(a){var e=a(".folder.active")[0],b;if(b=e)a=a(e).closest(".js-scroll-pane")[0],b=!(e.offsetTop<a.scrollTop+a.clientHeight)&&e.scrollIntoView;b&&window.setTimeout(function(){e.scrollIntoView(!1)},0)})(jQuery);
(function(a){function e(a){this.init(a)}e.prototype={drag:{container:null,selector:null,options:null},drop:{container:null,selector:null,options:null},iconClass:"",init:function(b){b.dragContainer&&(this.drag.container=a(b.dragContainer),this.drag.selector=b.dragSelector,this.drag.options=b.dragOptions||{},this.setupDrag());b.dropSelector&&(this.drop.container=a(b.dropContainer),this.drop.selector=b.dropSelector,this.drop.options=b.dropOptions||{},this.setupDrop())},setupDrag:function(){var b=this.drag.options,
c=this.drag.container,d=this.drag.selector,e={limit:a("body"),opacity:0.95,cursor:"move",defaultHelper:!0,distance:15,iframeFix:"body"},g=a("body"),h=a.extend({},e,b),i=this,j;for(j in h)if("dragdown"===j||"dragmove"===j||"dragend"===j||"dragover"===j||"dragout"===j)c.on(j,d,h[j]);c.on("draginit",d,function(b,c){c.dndInstance=i;h.draginit&&h.draginit(b,c);h.iframeFix&&a(!0===h.iframeFix?"iframe":h.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+
"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:9999}).css(a(this).offset()).appendTo("body")});if(h.defaultHelper){var d=a('<div class="ftd-box"><div class="ftd-box-content"><div class="dnd"><span class="icon-dnd"></span></div></div></div>');d.find("span.icon-dnd").after(c.movingElement);d.appendTo(".page");c.representative(d,-15,-5)}g.addClass("dnd-"+h.cursor);h.limit&&c.limit(h.limit)});c.on("dragend",d,function(b,c){g.removeClass("dnd-"+h.cursor);c.movingElement.remove();
!1!==h.iframeFix&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})});if(h.opacity)c.on("draginit",d,function(a,b){b.movingElement.css("opacity",h.opacity)});c.on("dragdown",d,function(a,b){b.distance(h.distance);var c=b.element.get(0);"undefined"!==typeof c.onselectstart?c.onselectstart=function(){return!1}:"undefined"!==typeof c.style.MozUserSelect?c.style.MozUserSelect="none":c.onmousedown=function(){return!1}})},setupDrop:function(){var a=this.drop.options,c=
this.drop.container,d=this.drop.selector,e=this,g,h;for(h in a)if("dropinit"===h||"dropover"===h||"dropout"===h||"dropmove"===h||"dropon"===h||"dropend"===h)c.on(h,d,a[h]);c.on("dropinit",d,function(a,b){b.dndInstance=e});g=this.drop.options.hoverClass||"hover";!1!==g&&(c.on("dropover",d,function(a,b){b.element.addClass(g)}),c.on("dropout dropend",d,function(a,b){b.element.removeClass(g)}));this.drag.options.defaultHelper||(c.on("dropover",d,function(a,b,c){c.movingElement.find(".icon-dnd").attr("class",
"").addClass("icon-dnd "+e.icon())}),c.on("dropout",d,function(a,b,c){c.movingElement.find(".icon-dnd").attr("class","").addClass("icon-dnd "+e.icon())}))},icon:function(a){a&&(this.iconClass=a);return this.iconClass}};phx.dnd=phx.dnd||{};phx.dnd.create=function(a){return new e(a)};phx.util.userAgent.is("ios")&&(phx.dnd.create=function(){})})(jQuery);
(function(a){function e(b){return a(b).is(".menu-item")}function b(a,b){b||(b={});b.hasOwnProperty("type")||(b.type=a);phx.event.publish(a,b)}function c(){a("#checkbox-select-all").on("click",function(){b("mailSelectionRequest",{items:this.checked?"all":"none"})})}phx.event.subscribe(phx.events.FOLDER_SWITCH,c);c();var d=Wicket.Event,f=d.Topic;d.subscribeFor(f.AJAX_CALL_BEFORE_SEND,"toolbarButtonDelete",function(){b("mailDeleteRequest",{})});d.subscribeFor(f.AJAX_CALL_BEFORE_SEND,"toolbarButtonSpam",
function(){b("mailMoveRequest",{targetFolderId:"spam"})});d.subscribeFor(f.AJAX_CALL_BEFORE_SEND,"toolbarButtonNoSpam",function(){b("mailMoveRequest",{targetFolderId:"spam"})});a("#toolbarButtonReply").wicketLive("click",function(){b("mailReplyRequest",{})});a("#toolbarButtonForward").wicketLive("click",function(){b("mailForwardRequest",{})});a("#toolbarButtonSendAgain").wicketLive("click",function(){b("mailResendRequest",{})});a("#selectDropdown").wicketLive("click",function(a){e(a.target)&&(a=a.target.parentNode.getAttribute("data-filter"))&&
b("mailSelectionRequest",{items:a})});a("#replyDropdown").wicketLive("click",function(a){e(a.target)&&b("mailReplyRequest",{})});a("#moveToDropdown").wicketLive("click",function(a){e(a.target)&&b("mailMoveRequest",{targetFolderId:a.target.getAttribute("data-folderid")})});a("#changeViewDropdown").wicketLive("click",function(a){e(a.target)&&phx.ftd.close()})})(jQuery);
(function(a){function e(a){a.addClass("inactive").find("button").prop("disabled",!0)}function b(b){var c=document.getElementById("checkbox-select-all");c&&(c.checked=b.areAllSelected);var g,h,c=b.length;g=a(".widget.menubar ul.button > li");h=g.filter(".prev, .next");g=g.not(h);g.removeClass("inactive").find("button").prop("disabled",!1);0===c?e(g.filter(":not(.no-disable)")):1<c?e(g.filter(".no-multiple")):b.isEncrypted&&(e(g.filter(".forward.split-right")),e(g.filter(".send-again")));b.showMail||
e(h)}function c(a,c,e){b({length:a?0:1,areAllSelected:!1,isFirstSelected:!1,isLastSelected:!1,showMail:c,isEncrypted:e})}phx.event.subscribe(phx.events.TOGGLE_TOOLBAR_DISABLED,function(a){c(!!a.disable,!!a.showMail,!!a.isEncrypted)});phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,b);phx.event.subscribe(phx.events.FOLDER_SWITCH,function(){c(!0)})})(jQuery);
(function(a){function e(b){var d=a(".menubar .upsell-link");!0===b&&!phx.util.userAgent.is("ios")?d.addClass("shown"):d.removeClass("shown")}function b(){var b,d,f,g;b=a(".menubar");g=b.children(".upsell-link");d=b.children(".button-container.left");f=b.children(".button-container.right");d=d.outerWidth();f=f.outerWidth();b=b.outerWidth();g=g.outerWidth();e(b-d-f-30>g)}a(".menubar .upsell-link").length&&(phx.event.subscribe(phx.events.RESIZE_HANDLED,b),phx.event.subscribe(phx.events.RESIZE_STARTED,
e),phx.event.subscribe(phx.events.FOLDER_SWITCH,b),phx.event.subscribe("domchange",b),b())})(jQuery);
(function(a){function e(){}function b(a){a.hide();a.find("iframe").attr("src",phx.vars.blankUrl)}document.getElementById("mail-list")||["select","selectSection","updateToolbarEnabled"].forEach(function(a){phx[a]=e});var c,d;0===a(".mail-display-wrapper").children(":visible").length&&a(".mail-display-wrapper").hide();phx.event.subscribe(phx.events.MAIL_MOVED,function(a){1===a.mailData.length&&a.mailData[0].mailId===c&&(d=!0)});phx.event.subscribe(phx.events.MAIL_SHOWN,function(b){var e=a(".mail-display-wrapper");
c=b.mailId;d=!0;e.is(":visible")||(e.show(),phx.event.publish("domchange",{target:e}))});phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,function(){var c;if(d)d=!1;else if(c=a(".mail-display-wrapper"),0!==c.length&&"none"!==c[0].style.display)b(c),phx.event.publish("domchange",{type:"domchange",target:c})});phx.event.subscribe(phx.events.FOLDER_SWITCH,function(){var c=a(".mail-display-wrapper");c.is(":visible")&&b(c)});phx.event.subscribe(phx.events.DOM_NODE_REMOVING,function(b){a(b.target).hasClass("widget-mail-mail")&&
a(".widget-mail-reply-quick").css({visibility:"hidden"})})})(jQuery);
(function(a){function e(){a("html").removeClass("slideshow-visible");a(".stage-wrapper").hide().empty();phx.event.publish(phx.events.MODAL_DIALOG_CLOSE)}function b(){a("html").removeClass("plugin-pdf plugin-pdf-inline");window.sessionStorage&&window.sessionStorage.setItem("pluginPdf","false");e()}var c;if(!(c=phx.util.userAgent.is("ff20+"))){c=null;var d;a:{var f=navigator.plugins,g=f.length,h=/Adobe Reader|Adobe PDF|Acrobat/gi;for(d=0;d<g;d++)if(h.test(f[d].name)){d=!0;break a}d=!1}if(!d)a:{d=null;
if(window.ActiveXObject){try{d=new ActiveXObject("AcroPDF.PDF")}catch(i){}if(!d)try{d=new ActiveXObject("PDF.PdfCtrl")}catch(j){}if(null!==d){d=!0;break a}}d=!1}d?c="Adobe":(d=navigator.mimeTypes["application/pdf"])&&d.enabledPlugin&&(c="generic");if(c&&(c=!(window.sessionStorage&&"false"===window.sessionStorage.getItem("pluginPdf")))){if(c=phx.util.userAgent.is("ff"))c=!1,d=(d=navigator.mimeTypes["application/pdf"])&&d.enabledPlugin,f=/Foxit/gi,d&&f.test(d.name)&&0===d.version.indexOf("2.2.1")&&
(c=!0);c=!c}}c&&a("html").addClass(phx.util.userAgent.is("ie8")&&self!==parent?"plugin-pdf":"plugin-pdf-inline");phx.event.subscribe(phx.events.INLINE_PDF_SHOWN,function(){var c=a(".stage-wrapper object"),d,f;phx.event.publish(phx.events.MODAL_DIALOG_OPEN);a("html").addClass("slideshow-visible");a(".stage-wrapper .right-button li").bind({click:e});a(".stage-wrapper .fallback a").bind({click:b});f=Date.now();d=function(){window.setTimeout(function(){0===c.height()?1E4>Date.now()-f&&d():c.forceRedraw()},
100)};d()})})(jQuery);(function(a){if(phx.util.userAgent.is("ie9"))a("body > div.page").on("scroll",function(){a(this).scrollTop(0)})})(jQuery);
MailDisplayIFrame=function(a,e,b,c,d){return e({name:"MailDisplayIFrame",mixins:[b,function(){this.isRegistered=!1;this.setIFrameSource=function(a){a&&a.url&&(this.node.src=this.generateFrameUrl(a.url,a.type),this.bindKeyListener(this.node.src))};this.hasIOSTimeoutRaceCondition=function(){return!!("safari"===phx.util.userAgent.browser.family&&phx.util.userAgent.is("ios")&&phx.vars.iOSDisplayMailTimeout)};this.logIframeHrefUndefined=function(){this.hasIOSTimeoutRaceCondition()?d.Log.info("Mailbody URL === undefined: Mail (or NMA) has been called after iOS timeout, which lasted "+
phx.vars.iOSDisplayMailTimeout+"ms"):d.Log.info("Mailbody URL === undefined: Mail (or NMA) has been called without timeout")};this.bindKeyListener=function(a){var b,d,e;e=this;b=1;d=window.setInterval(function(){50<=b&&clearInterval(d);b++;try{if(a===this.node.contentWindow.location.href)c.userAgent.is("ie9-")||e.bindKeyListenerBroadcast();else if(void 0===this.node.contentWindow.location.href)clearInterval(d),e.logIframeHrefUndefined();else return}catch(j){}clearInterval(d)},100)};this.bindKeyListenerBroadcast=
function(){var a=this.$node.contents();this.on(a,"keydown",this.triggerKeyEventOnDocument)};this.triggerKeyEventOnDocument=function(b){b.target=this.node;a(document).trigger(b)};this.generateFrameUrl=function(a,b){return"nma"===b&&this.isRegistered?this.getNmaUrl(a):a};this.getNmaUrl=function(a){return c.eic.generateUrl(a,this.getEicParams())};this.after("onEicInitialize",function(){this.isRegistered=this.eicRegisterFrame(this.node);nx&&nx.eicJumpTo&&this.eicRegisterCommand("jumpto",nx.eicJumpTo)});
this.onSrcChange=function(a,b){var c=this;this.hasIOSTimeoutRaceCondition()?window.setTimeout(function(){c.setIFrameSource(b)},phx.vars.iOSDisplayMailTimeout):this.setIFrameSource(b)};this.after("initialize",function(){this.on("onSrcChange",this.onSrcChange)})}]})}(jQuery,defineComponent,mixinEic,phx.util,Wicket);
(function(a){function e(b){var c,d;b?b={length:1,isNma:!0}:(b=a(h.allSelectable),c=b.filter(":checked"),d=a(h.encrypted),b={areAllSelected:0<b.length&&b.length===c.length,length:c.length,isFirstSelected:b.first().is(":checked"),isLastSelected:b.last().is(":checked"),isNma:!1,isEncrypted:0<d.length});b.type="mailSelectionChanged";phx.event.publish("mailSelectionChanged",b)}function b(){var b=a(".iba, .iba-acceptable, .iba-uncertain");b.removeClass(o).filter("."+i).addClass(o);b.removeClass([k,i].join(" "))}
function c(){a("#mail-list tr.lastSelection").removeClass("lastSelection")}function d(b,c,d,e,f){var g=a(b),h=g.closest("tr[data-oao-mailid]");0!==h.length&&(b.checked||!f&&g.hasClass(k)?(h.hasClass(i)||h.addClass(i),e||(!c||!c.checked?h.hasClass(j)||h.addClass(j):h.hasClass(j)&&h.removeClass(j),!d||!d.checked?h.hasClass(l)||h.addClass(l):h.hasClass(l)&&h.removeClass(l))):h.hasClass(i)&&h.removeClass(m))}function f(b){var c,e;e=phx.util.userAgent.is("ie8");if(1===b.length){b.isSlowIE=e;var f,g,i;
i=b.isSlowIE;f=a(h.allSelectable);f.closest("tr").removeClass(m);b=b.isNma?a(".iba.selected,.iba-acceptable.selected,.iba-uncertain.selected").get(0):a(h.selected).get(0);g=0;i||(f=f.filter(":visible"),g=a.inArray(b,f));d(b,i?null:f[g-1],i?null:f[g+1],i,!1)}else c=a(h.all),e||(c=c.filter(":visible")),c.each(function(a){d(this,c[a-1],c[a+1],e,!0)})}function g(b){var c,d;b&&b.hasOwnProperty("mailId")?(c=a("#mail-list tr[data-oao-mailid="+b.mailId+"]"),d=c.hasClass("marked")):b&&b.hasOwnProperty("mailIds")?
(d=b.mailIds.map(function(a){return"#mail-list tr[data-oao-mailid="+a+"]"}),c=a(d.join(",")),d=c.hasClass("marked")):(c=a(h.selected).closest("tr"),d=!0);var f=b&&b.targetFolderId,g=[],i;c.each(function(){var b=a(this).closest("tr");i={unread:b.hasClass("new"),important:b.hasClass("starred"),mailId:b.attr("data-oao-mailid"),folderId:b.attr("data-folderid")};i.targetFolderId=f;g.push(i)});c.remove();phx.event.publish(phx.events.MAIL_MOVED,{type:phx.events.MAIL_MOVED,mailData:g});a(h.all);b=a(h.selected).filter(":visible");
c=a(h.allSelectable).filter(":visible");(d||c.length===b.length)&&e()}var h={all:"#mail-list tbody input:checkbox",allSelectable:"#mail-list tbody td input:checkbox",unread:"#mail-list tr.new td input:checkbox",read:"#mail-list tr:not(.new) td input:checkbox",selected:"#mail-list tbody td input:checked",unselected:"#mail-list tbody td input:checkbox:not(:checked)",encrypted:"#mail-list tr.encrypted td input:checkbox:checked"},i="marked",j="marked-first",l="marked-last",k="selected",o="was-marked",
m=[i,j,l].join(" ");phx.event.subscribe(phx.events.TRIGGER_MAIL_SELECTION_CHANGED,function(){b()});document.getElementById("mail-list")&&(phx.event.subscribe(phx.events.TRIGGER_MAIL_SELECTION_CHANGED,e),phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,f),phx.event.subscribe(phx.events.MAIL_MOVE_REQUEST,g),phx.event.subscribe(phx.events.MAIL_DELETE_REQUEST,g),phx.event.subscribe(phx.events.MAIL_SHOWN,function(d){var f=a("[data-oao-mailid="+d.mailId+"]"),d=f.is(".iba, .iba-acceptable, .iba-uncertain");
a(h.all).filter(":checkbox").prop("checked",!1);b();var n;d?f.addClass(k):(n=f.find("input:checkbox").first(),n.prop("checked",!0),c(),f.addClass("lastSelection"));f.removeClass("new");f=a(f).closest("tr");n=f.closest(".js-scroll-pane")[0];f=f[0];f.offsetTop+f.offsetHeight+17>n.clientHeight+n.scrollTop?n.scrollTop=f.offsetTop+f.offsetHeight+17-n.clientHeight:f.offsetTop+10<n.scrollTop&&(n.scrollTop=f.offsetTop);e(d)}),phx.event.subscribe(phx.events.MAIL_SELECTION_REQUEST,b),e());phx.select=function(b){if(b in
h||"none"===b)"all"!==b&&a(h.all).prop("checked",!1),"none"!==b&&a(h[b]).prop("checked",!0),c(),e()};phx.selectSection=function(a,b){var c=b.find("tr[data-oao-mailid] input:checkbox");a.checked?c.prop("checked",!0):c.prop("checked",!1)}})(jQuery);(function(a){var e,b;e=a("#panel-mail-table");if(0<e.find("th input.checkbox-select-section").length)e.on("click","th input.checkbox-select-section",function(c){b=a(this).closest("tbody");phx.selectSection(c.target,b);phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED)})})(jQuery);
(function(a){phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,function(){a("#mail-list tbody").each(function(){var e,b;e=a(this);b=e.find("th input:checkbox");e=e.find("td input:checkbox");1===b.length&&0<e.length&&b.prop("checked",e.length===e.filter(":checked").length)})})})(jQuery);(function(a){phx.event.subscribe(phx.events.TOGGLE_FLAGGED,function(e){a("#mail-list").find(e.target).find(".icon.mail-star").trigger("click")})})(jQuery);
(function(a){var e;a.fn.phxStoreScrollTop=function(){e=a("#mail-list")[0].parentNode.scrollTop};a.fn.phxRestoreScrollTop=function(){a("#mail-list")[0].parentNode.scrollTop=e}})(jQuery);(function(a){phx.isClickableMailListColumn=function(e){return 0===a(e.target).closest(".slct, .folder-section, tfoot, tr.drag").length&&!e.shiftKey&&!e.ctrlKey}})(jQuery);
(function(a){phx.MailRow=function(e){this.$row=a(e).eq(0);this.selector=e;(this.selected=this._selected=this.$row.hasClass("marked"))?(this.isFirst=this._isFirst=this.$row.hasClass("marked-first"),this.isLast=this._isLast=this.$row.hasClass("marked-last")):this.isLast=this._isLast=this.isFirst=this._isFirst=!1;this.isRead=this._isRead=!this.$row.hasClass("new");this.isImportant=this._isImportant=this.$row.find(".mail-star").hasClass("starred");this.setSelected=function(a,c){var d;this.selected=a;
this.selected===this._selected||c||(this.selected?(0<this.$row.prev().length?(d=new phx.MailRow("#"+this.$row.prev().attr("id")),d.getSelected()?(this.setFirst(!1),d.setLast(!1)):this.setFirst(!0)):this.setFirst(!0),0<this.$row.next().length?(d=new phx.MailRow("#"+this.$row.next().attr("id")),d.getSelected()?(this.setLast(!1),d.setFirst(!1)):this.setLast(!0)):this.setLast(!0),this.$row.addClass("marked"),this.setCheckbox(!0)):(this.setFirst(!1),this.setLast(!1),0<this.$row.prev().length&&(d=new phx.MailRow("#"+
this.$row.prev().attr("id")),d.getSelected()&&d.setLast(!0)),0<this.$row.next().length&&(d=new phx.MailRow("#"+this.$row.next().attr("id")),d.getSelected()&&d.setFirst(!0)),this.$row.removeClass("marked marked-first marked-last"),this.setCheckbox(!1)),this._selected=this.selected)};this.setCheckbox=function(a){this.$row.find(".slct input").attr("checked",a)};this.setFirst=function(a){(this.isFirst=a)?this.$row.addClass("marked-first"):this.$row.removeClass("marked-first")};this.setLast=function(a){(this.isLast=
a)?this.$row.addClass("marked-last"):this.$row.removeClass("marked-last")};this.setRead=function(a,c){this.isRead=a;if(this.isRead!==this._isRead||!0===c)this.isRead?(this.$row.removeClass("new"),this.$row.find(".mail-mark").removeClass("marked")):(this.$row.addClass("new"),this.$row.find(".mail-mark").addClass("marked")),this._isRead=this.isRead};this.setImportant=function(a,c){this.isImportant=a;if(this.isImportant!==this._isImportant||!0===c)this.isImportant?this.$row.find(".mail-star").addClass("starred"):
this.$row.find(".mail-star").removeClass("starred")};this.getSelected=function(){return this.selected};this.getFirst=function(){return this.isFirst};this.getLast=function(){return this.isLast};this.getRead=function(){return this.isRead};this.getImportant=function(){return this.isImportant};this.restoreState=function(b){b&&(this.$row=a(a(this.selector)[0]));this.selected?(this.$row.addClass("marked"),this.setCheckbox(!0),this.setFirst(this.isFirst),this.setLast(this.isLast)):(this.setCheckbox(!1),
this.$row.removeClass("marked"),this.setFirst(!1),this.setLast(!1));this.setRead(this.isRead,!0);this.setImportant(this.isImportant,!0)}}})(jQuery);
(function(a){var e={selectedMails:[],store:function(){var a=e.getSelectedRows();e.resetStore();0<a.length&&a.each(function(){e.selectedMails.push({mailID:this.getAttribute("data-oao-mailid")})})},restore:function(a){a&&a.id&&(e.resetStore(),e.selectedMails.push({mailID:a.id}));e.hasSelection()&&(e.selectReloadedRows(),e.resetCheckboxState(),e.resetStore())},getSelectedRows:function(){return a("#mail-list").find("tr.marked")},getReloadedRows:function(){var b=[],c,d;c=0;for(d=e.selectedMails.length;c<
d;c++)b.push('tr[data-oao-mailid="'+e.selectedMails[c].mailID+'"]');return a("#mail-list").find(b.join(","))},selectReloadedRows:function(){var b,c;return e.getReloadedRows().each(function(){c=a(this).attr("id");b=new phx.MailRow("#"+c);b.setSelected(!0)})},resetCheckboxState:function(){return a("#mail-list tr:not(.marked) input:checked").removeAttr("checked")},resetStore:function(){e.selectedMails=[]},hasSelection:function(){return 0<e.selectedMails.length}};phx.event.subscribe(phx.events.STORE_SELECTION,
e.store);phx.event.subscribe(phx.events.RESTORE_SELECTION,e.restore)})(jQuery);
(function(a){function e(b){var b=a(b),e,f=a(d);if(!phx.util.userAgent.is("ios")){e=b.attr("data-hovermenu-hide");var g,h;if("string"===typeof e){e=e.split("");for(g=0;g<e.length;g++)h=c[e[g]],a(f.find('li[data-oao-hover="'+h+'"]')).hide()}e=b.find(".tool");phx.util.userAgent.is("webkit")&&b.addClass("hover");e.prepend(f.css("display","block"))}}function b(b){phx.util.userAgent.is("ios")||(b=a(b),phx.util.userAgent.is("webkit")&&b.removeClass("hover"),b.find("#hoverMenu").remove())}var c={r:"reply",
o:"open",d:"delete"},d,f,g,h,i,j,l,k,o,m,q,p;if(document.getElementById("hoverMenu")&&(d=a("#hoverMenu").parent().html(),a("#hoverMenuWrp").hide(),a("#hoverMenu").hide().attr("id","hoverMenuOri"),phx.util.userAgent.is("ie8")||(a(document).on({mouseenter:function(){e(this)},mouseleave:function(){b(this)}},"#maillist tr"),phx.event.subscribe(phx.events.DOM_NODE_REMOVING,function(a){"TR"===a.target.nodeName&&b(a.target)})),phx.util.userAgent.is("ie8")))f=null,h=g=!1,i=0<a(".panel-mail-display-table-mail-horizontal").length,
j=phx.util.colors.mailTableHover(),l=j.bgColor(),k=j.textColor(),j=phx.util.colors.nmaHover(),o=j.borderColor(),m=j.bgColor(),q=j.textColor(),p=function(b,c){b.find("th").each(function(b){0===b&&(a(this).find(".iba_border").get(0).style.backgroundColor=c?"":o);this.style.backgroundColor=c?"":m;this.style.color=c?"":q})},a("#panel-mail-table").on({mouseenter:function(){var b=a(this),c=b.data("aIconMark"),d=b.data("subjectText"),j=b.children(),o=b.hasClass("marked"),m=b.hasClass("iba"),q=void 0===b.data("oao-mailid");
if(m)p(b);else if(!q){h=!1;void 0===c&&(c=b.find(".mark a.icon.mark")[0])&&b.data("aIconMark",c);i&&(void 0===d&&(d=b.find(".text .subject")[0])&&b.data("subjectText",d),d&&(d.style.color=k));d=0;for(m=j.length;d<m;d++)j[d].style.backgroundColor=l,j[d].style.color=k;c&&(c.style.backgroundPositionX=o?"-80px":"0px");null!==f&&clearTimeout(f);f=setTimeout(function(){if(h===false){e(b);g=true;f=null}},500)}},mouseleave:function(){var c=a(this),d=c.data("aIconMark"),e=c.children();c.hasClass("marked");
var f=c.hasClass("iba"),j=void 0===c.data("oao-mailid");if(f)p(c,!0);else if(!j){!0===g&&(b(this),g=!1);h=!0;f=0;for(j=e.length;f<j;f++)e[f].style.backgroundColor="",e[f].style.color="";if(i&&(c=c.data("subjectText")))c.style.color="";d&&(d.style.backgroundPositionX="")}}},"tr"),phx.event.subscribe(phx.events.DOM_NODE_REMOVING,function(a){"TR"===a.target.nodeName&&b(a.target)})})(jQuery);
(function(a){var e=a("#panel-mail-table");e.on("click","tr[data-oao-mailid] input[type=checkbox]",function(b){b.shiftKey||(a("#mail-list tr.lastSelection").removeClass("lastSelection"),a(this).parents("tr").addClass("lastSelection"),phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED),b.stopPropagation())});e.on("click","tr[data-oao-mailid]",function(b){var c,d,e,g;c=a(this).find("td:first input[type=checkbox]");b.ctrlKey&&!a(this).hasClass("drag")&&b.target!==c.get(0)&&(c.attr("checked",
!c.attr("checked")),phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED),a("#mail-list tr").removeClass("lastSelection"),a(this).addClass("lastSelection"),b.stopPropagation());if(b.shiftKey){d=a("#mail-list tr.lastSelection");0===d.length&&(d=a("#mail-list tr:has(td):first"));b.target===c.get(0)&&c.attr("checked",!0);c=a("#mail-list tr[data-oao-mailid]");d=c.index(d.get(0));e=c.index(b.currentTarget);c.find("td:first input[type=checkbox]").attr("checked",!1);d=d<=e?c.slice(d,e+1):c.slice(e,
d+1);e=0;for(g=d.length;e<g;e++)c=d[e],c=a(c).find("td:first input[type=checkbox]"),c.attr("checked",!0);phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED);b.stopPropagation()}})})(jQuery);(function(a){if(phx.util.userAgent.is("ios")){var e=phx.util.colors.mailTableHover().bgColor();phx.event.subscribe(phx.events.MAIL_SELECTED,function(b){a(b.target).closest("tr").css("background-color",e)})}})(jQuery);
(function(a){function e(a,b){b||(b={});b.hasOwnProperty("type")||(b.type=a);phx.event.publish(a,b)}var b=a("#mail-list");phx.event.subscribe(phx.events.MAIL_SELECTION_REQUEST,function(a){a.hasOwnProperty("items")&&phx.select(a.items)});b.on("click","td input[type=checkbox]",function(){var b,d=a(this).closest("tr");d.hasClass("new");d.hasClass("starred");b=d.attr("data-oao-mailid");d.attr("data-folderid");e(this.checked?"mailSelectionRequest":"mailDeselectionRequest",{mailIds:[b]})});b.on("click",
"th input[type=checkbox]",function(){e(this.checked?"mailSelectionRequest":"mailDeselectionRequest")})})(jQuery);
(function(a){var e=a("#section-0 .js-scroll-pane");phx.dnd.create({dragContainer:"#panel-mail-table",dragSelector:"tr[data-oao-mailid]:not(.iba, .iba-acceptable, .iba-uncertain)",dragOptions:{draginit:function(b,c){var d=c.element.find("td:first input[type=checkbox]"),f=0,g=[];d.attr("checked")||(b.ctrlKey||phx.event.publish(phx.events.MAIL_SELECTION_REQUEST,{items:"none"}),d.attr("checked",!0),phx.event.publish(phx.events.TRIGGER_MAIL_SELECTION_CHANGED),a(c.element).addClass("lastSelection"));a("#mail-list tr.marked").each(function(b,
c){f++;g.push(a(c).data("oao-mailid"))});c.mails=g;c.movingElement=1!==f?i18n.getString("dragdrop.mail.move.many",[g.length]):i18n.getString("dragdrop.mail.move.one");c.scrolls(e.get(0));c.element.addClass("drag")},dragend:function(a,c){var d=c.element;c.movingElement.remove();phx.util.nextTick(function(){d.removeClass("drag")})}},dropContainer:"#section-0",dropSelector:".folder",dropOptions:{accept:"#mail-list tr[data-oao-mailid]",dropover:function(a,c,d){var f=c.element,a=f.offset(),c=e.offset(),
a=a.top+f.height()<e.height()+c.top&&a.top>c.top;!f.hasClass("active")&&a&&f.hasClass("droppable")?d.dndInstance.icon("ok"):d.dndInstance.icon("abort");f.data("timeout",setTimeout(function(){phx.navigation.getFolder(f.data("folderid")).open()},750))},dropout:function(a,c,d){d.dndInstance.icon("abort");clearTimeout(c.element.data("timeout"));c.element.removeData("timeout")},dropon:function(a,c,d){var e,a=c.element;void 0!==a.data("folderid")&&"ok"===d.dndInstance.icon()&&(a=a.data("folderid"),e=d.mails.map(function(a){return{name:"mailid",
value:a}}),e.unshift({name:"folderid",value:a}),Wicket.Ajax.post({u:phx.getVar("maildrop.callbackUrl"),dep:[function(){return e}]}))}}})})(jQuery);(function(a){a("#panel-mail-table.panel-mail-display-table-mail-vertical").on("click",".paging .area",function(){this.blur()})})(jQuery);
(function(a){function e(a,e){if(!(!0!==b||!0===e)&&a!==c)if(c=a,d)d=!1;else if("string"!==typeof a||""===a)(!window.history||!history.pushState)&&history.back();else{var f=phx&&"object"===typeof phx.vars&&"string"===typeof phx.vars.historyCallbackUrl?phx.vars.historyCallbackUrl+a:null;null!==f&&Wicket.Ajax.get({u:f})}}var b=!1,c,d;"object"!==typeof a.history&&(a.history={});d=!1;a.history.changeHash=function(b){d=!0;a.history.load(b,!1);window.history&&history.pushState&&e(b,!1)};phx.util.userAgent.is("ie8")&&
a.history.init(e,{unescape:"/"});var f=phx.vars.initialHistoryState;"string"!==typeof f||""===f||(d=!0,a.history.load(f,!0));a.history.init(e,{unescape:"/"});b=!0})(jQuery);
(function(a){function e(a){l.find(".js-selection-count").text(a)}function b(a){1===a.mailData.length&&a.mailData[0].mailId===i&&(j=!0)}function c(){a(".pgp-empty-preview-teaser").trigger("pgp-empty-preview-teaser/show");k.hide();l.show()}function d(a){a=a.length;j?j=!1:(o?(l.hide(),k.show()):(c(),e(a)),o=!1)}function f(){c();e(0)}function g(a){o=!0;i=a.mailId}function h(){j=!1;d({length:0})}var i,j,l,k,o;o=!1;l=a(".system-folder-message");k=a(".mail-display-wrapper");0<l.length&&(phx.event.subscribe(phx.events.MAIL_MOVED,
b),phx.event.subscribe(phx.events.MAIL_SELECTION_CHANGED,d),phx.event.subscribe(phx.events.RESET_MAILLIST_SELECTION,f),phx.event.subscribe(phx.events.MAIL_SHOWN,g),phx.event.subscribe(phx.events.FOLDER_SWITCH,h))})(jQuery);
(function(a){function e(){var b,c,d;c=a(this);b=c.find(".email").text().trim();d=c.find(".name").text().trim();c=c.find(".group-title").text().trim();b={email:b,name:d,groupTitle:c,address:c?d:b!==d?'"'+d+'" <'+b+">":b};(b.email||b.name)&&a(document).trigger("addresschooser/recipient/add",b)}function b(a){var b;b=a.closest(".js-scroll-pane")[0];a=a[0];a.offsetTop+a.offsetHeight+10>b.clientHeight+b.scrollTop?b.scrollTop=a.offsetTop+a.offsetHeight+10-b.clientHeight:a.offsetTop+10<b.scrollTop&&(b.scrollTop=
a.offsetTop)}function c(){phx.ftd.close("addresschooser")}function d(d){var j,l,d=d.keyCode;j=a(g).find("li");l=this.value?this.value.trim().toLowerCase():"";if(-1!==[13,27,38,40].indexOf(d)){j=a(g+" li");var k=j.filter(".selected");switch(d){case 38:k.prevAll(":visible").length&&k.removeClass("selected").prevAll(":visible").eq(0).addClass("selected");b(j.filter(".selected"));break;case 40:k.nextAll(":visible").length&&k.removeClass("selected").nextAll(":visible").eq(0).addClass("selected");b(j.filter(".selected"));
break;case 27:c();break;case 13:e.call(j.filter(".selected:visible")[0]),h()}}else j.css("display",!l?"":function(){var b;(b=this.getAttribute("data-address-parts"))||(b=f,a(this).find(".js-filter-by").each(function(){var c,d;c=a(this).text().trim().toLowerCase();d=[c];[" ","@",".","-","_"].forEach(function(a){-1!==c.indexOf(a)&&(d=d.concat(c.split(a)))});b+=d.join(f)+f}),this.setAttribute("data-address-parts",b));return 0<=b.indexOf(f+l.toLowerCase())?"":"none"}),j.each(function(){a(this).find(".js-filter-display").each(function(){var a,
b;a=this.innerHTML.replace(/<\/?b>/gi,"");l&&(b=RegExp("\\b"+l.replace(/([.?*+\^$\[\]\\(){}\-])/g,"\\$1"),"gi"),a=a.replace(b,function(a){return"<b>"+a+"</b>"}));this.innerHTML=a})}),j.removeClass("selected"),j.filter(":visible").eq(0).addClass("selected")}var f="|",g=".addressbook-suggest",h;h=function(){var b=a("#addresschooser input")[0];b.value="";d.call(b,{keyCode:"fake"})};a("[data-ftd-trigger=addresschooser]").wicketLive("open.ftd",function(){var b=a("#addresschooser");a(document).trigger("addresschooser/open");
b.data("initialized")||(b.on("keyup","input",d),b.on("click","li",e),b.data("initialized",!0));b.data("MailObjectPanelObjectivationLabel",this);h();a(document).on("addresschooser/close",c)})})(jQuery);
(function(a,e,b){function c(a){"number"!==typeof a&&(a=-1);return 0<=a?a:-1}function d(a,b){a=c(a);b=c(b);return 0<a&&0<b&&a>b&&a-b<l?a-b:-1}function f(a){return(a=/uc=([^&]*)/i.exec(a))&&a[1]||"NONE"}function g(){var a=document.location.pathname;if(!a||/^\/?\w{1,}:\/.*/.test(a))return null;-1<a.indexOf("jsessionid")&&(a=a.replace("%3B",";"),a=a.substring(0,a.indexOf(";jsessionid")));return a}function h(b){!j&&b.url&&-1<c(b.total)&&(j=!0,b.hasCommercials=k,b.group=a.getVar("nmaGroup"),e.ajax({url:a.getVar("statistics.perf.callback"),
cache:!1,type:"POST",timeout:3E3,data:b,complete:function(){j=!1}}))}function i(){var a;a="object"===typeof window.performance?window.performance.timing:{};a={total:d(a.loadEventEnd||a.loadEventStart,a.navigationStart),network:d(a.requestStart,a.navigationStart),dns:d(a.domainLookupEnd,a.domainLookupStart),tcp:d(a.connectEnd,a.connectStart),redirect:d(a.redirectEnd,a.redirectStart),server:d(a.responseStart,a.requestStart),response:d(a.responseEnd,a.responseStart),client:d(a.loadEventEnd||a.loadEventStart,
a.responseEnd),domload:d(a.domContentLoadedEventStart,a.domLoading),domrender:d(a.domComplete,a.domContentLoadedEventStart),interactive:d(a.domInteractive,a.domLoading),type:window.performance.navigation.type};a.url=g();a.usecase=f(document.location.search);h(a)}var j=!1,l=12E4,k,o=e("html");k=o.hasClass("can-have-sky")&&!o.hasClass("no-sky")||o.hasClass("can-have-adb")&&!o.hasClass("no-adb")||o.hasClass("can-have-rect")&&!o.hasClass("no-rect");var m;if((o=a.getVar("statistics.perf.callback")||"off")&&
"off"!==o){"object"===typeof window.performance?e(window).load(function(){setTimeout(i,0)}):(m=c(e.cookie("unloadtimer")),0<m&&e(window).load(function(){var a=d((new Date).getTime(),m);h({url:g(),total:a,ajax:!1,type:0})}),e(window).bind("onbeforeunload",function(){e.cookie("unloadtimer",(new Date).getTime(),{secure:!0})}));var q=0,p=null,b=b.Event,o=b.Topic;b.subscribe(o.AJAX_CALL_BEFORE_SEND,function(a,b){q=(new Date).getTime();p=b.u});b.subscribe(o.AJAX_CALL_COMPLETE,function(){var a=(new Date).getTime()-
q;p=p||"";setTimeout(function(){var b=p,c,d,e;c=f(b);d=g();e=b.indexOf("IBehaviorListener");-1<e?(b=b.substring(e+17+1,b.indexOf("&")).replace(/[0-9]+\-/g,""),b=d+"/"+b):b=d;h({url:b,total:a,ajax:!0,usecase:c,type:0})},50)})}})(phx,jQuery,Wicket);"object"!==typeof phx.statistics&&(phx.statistics={});
(function(a){function e(a,b,i){var j;"/"===a.charAt(0)&&(a=a.substring(1));j={section:a};b===c&&(j.type="event");i.labels&&(j.label=JSON.parse(i.labels));i.modifier&&(j.modifier=i.modifier);phx.iac?phx.iac.notify("tracking_track",j):f||(f=!0,window.setTimeout(function(){e(a,b,i);f=false},d))}function b(a,b){a||(a="/missingEventID");window.setTimeout(function(){var d=b;a&&(d||(d={labels:""}),e(a,c,d))},50)}var c,d,f;c="event";d=1E3;f=!1;phx.statistics.trackPageImpression=function(a,b){var c=a.replace(/\./gi,
"/"),d=b;c&&(d||(d={labels:""}),e(c,"pi",d))};phx.statistics.trackEvent=b;a(document).on("trackEvent.statistics",function(a,c,d){b(c,d)});a(document).on("trackEventAsRequest.statistics",function(a,b){(new Image).src=b})})(jQuery);
(function(a){phx.ajaxEditableSubmit={isSave:function(e){var b=!1;if(e=a.event.fix(e))"blur"===e.type?b=!0:"keydown"===e.type&&13===e.keyCode&&(b=!0),a.data(e.target,"handler-deactivated",!0);return b},reactivateHandlers:function(e){e=document.getElementById(e);a.data(e,"handler-deactivated",!1);e.select();e.focus()}}})(jQuery);
(function(a){var e=["#editorStartupFailedLink","#editorStartupTimeoutLink","#reopenLastComposeLink"];phx.showDebugTools=function(){var b=a('<div id="debugTestContainer"></div>'),c,d=e.length,f;for(c=0;c<d;c++)f=a(e[c]),0<f.length&&(f.removeClass("is-hidden"),b.append(f));a("body").append(b)}})(jQuery);
Button=function(a,e,b,c){return e({name:"Button",mixins:[b,function(){this.toggle=function(){this.$node.toggleClass(c.IS_DISABLED);this.isDisabled()?this.disableBehavior():this.enableBehavior()};this.disable=function(a){a.stopPropagation();this.isDisabled()&&(this.isAlreadyDisabled=!0);this.$node.addClass(c.IS_DISABLED);this.disableBehavior()};this.enable=function(a){a.stopPropagation();this.isAlreadyDisabled?this.isAlreadyDisabled=!1:(this.$node.removeClass(c.IS_DISABLED),this.enableBehavior())};
this.enableBehavior=function(){this.node.disabled=!1};this.disableBehavior=function(){this.node.disabled=!0};this.isDisabled=function(){return this.$node.hasClass(c.IS_DISABLED)};this.isEnabled=function(){return!this.isDisabled()};this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0,active:!0})};this.after("initialize",function(){this.initializePseudoClass();this.on(this.getNameSpacedEventName("disable"),this.disable);this.on(this.getNameSpacedEventName("enable"),this.enable);
this.on(this.getNameSpacedEventName("toggle"),this.toggle)})}]})}(jQuery,defineComponent,mixinFlyout,CssUtils.modifier);
ButtonGroup=function(a,e){return e({name:"ButtonGroup",mixins:function(){this.defaultAttrs({buttonSelector:".m-button"});this.disable=function(){this.select("buttonSelector").trigger("disable")};this.enable=function(){this.select("buttonSelector").trigger("enable")};this.after("initialize",function(){this.on(this.getNameSpacedEventName("disable"),this.disable);this.on(this.getNameSpacedEventName("enable"),this.enable)})}})}(jQuery,defineComponent);
ButtonLink=function(a,e,b){return e({name:"ButtonLink",parent:b,mixins:function(){this.disableBehavior=function(){this.on("click",this.preventLinkClickHandler)};this.enableBehavior=function(){this.off("click",this.preventLinkClickHandler)};this.preventLinkClickHandler=function(a){a.preventDefault()}}})}(jQuery,defineComponent,Button);
ButtonCheckable=function(a,e,b){return e({name:"ButtonCheckable",parent:b,mixins:function(){this.defaultAttrs({checkboxSelector:".button-checkable_checkbox"});this.disableBehavior=function(){this.select("checkboxSelector").prop("disabled",!0)};this.enableBehavior=function(){this.select("checkboxSelector").prop("disabled",!1)};this.onClick=function(b){!a(b.target).is(":checkbox")&&this.isEnabled()&&this.toggleCheckbox()};this.toggleCheckbox=function(){this.isChecked()?this.uncheck():this.check()};
this.isChecked=function(){return this.select("checkboxSelector").is(":checked")};this.isUnchecked=function(){return!this.isChecked()};this.check=function(){this.select("checkboxSelector").prop("checked",!0)};this.uncheck=function(){this.select("checkboxSelector").prop("checked",!1)};this.after("initialize",function(){this.on(this.getNameSpacedEventName("click"),this.onClick)})}})}(jQuery,defineComponent,Button);
ProgressBar=function(a,e){return e({name:"ProgressBar",mixins:[function(){this.defaultAttrs({value:0,bar:".progressbar_indicator",label:".progressbar_label"});this.createCssPercentValue=function(a){return 0<=a&&100>=a?a+"%":null};this.updateValue=function(a){this.select("label").html(a)};this.updateBarSize=function(a){this.select("bar").css("width",a)};this.onUpdate=function(a,c){var d=this.createCssPercentValue(c.percent);d&&(this.updateBarSize(d),this.updateValue(d))};this.after("initialize",function(){this.on("update.progressbar",
this.onUpdate);this.updateValue(this.createCssPercentValue(this.attr.value))})}]})}(jQuery,defineComponent);IconLink=function(a){return a({name:"IconLink",mixins:[function(){this.after("initialize",function(){this.$node.pseudoClassify({hover:!0})})}]})}(defineComponent);Textfield=function(a,e){return e({name:"Textfield",mixins:function(){this.initializePseudoClass=function(){this.$node.pseudoClassify({focus:!0})};this.after("initialize",function(){this.initializePseudoClass()})}})}(jQuery,defineComponent);
TextareaCounter=function(a,e,b){return e({name:"TextareaCounter",mixins:function(){this.cache={lineBreaks:void 0,value:void 0};this.defaultAttrs({textarea:".form-element-textarea",charcount:".js-textarea-char-count",maxlength:50});this.onInput=function(){this.resetCache();this.getLength()>this.getMaxLength()?this.cropValue():this.updateCounterValue()};this.resetCache=function(){this.cache.lineBreaks=void 0;this.cache.value=void 0};this.cropValue=function(){var a=this.getValue().substring(0,this.getMaxLength()-
this.getEnterCount());this.setValue(a)};this.countLineBreaksInString=function(a){a=a.match(/\n/g);return null!==a?a.length:0};this.getLength=function(){return this.getValue().length+this.getEnterCount()};this.getEnterCount=function(){void 0===this.cache.lineBreaks&&(this.cache.lineBreaks=this.countLineBreaksInString(this.getValue()));return this.cache.lineBreaks};this.getValue=function(){void 0===this.cache.value&&(this.cache.value=this.textarea.val());return this.cache.value};this.getMaxLength=function(){return this.attr.maxlength};
this.setValue=function(a){this.textarea.val(a)};this.updateCounterValue=function(){this.charcount.text(this.getMaxLength()-this.getLength())};this.hasOnInputSupport=function(){return document.body.hasOwnProperty("oninput")};this.getSupportedEvents=function(){return b.userAgent.is("ie9-")?"keyup change":this.hasOnInputSupport()?"input":"keyup change"};this.after("initialize",function(){this.textarea=this.select("textarea");this.charcount=this.select("charcount");this.on(this.getSupportedEvents(),this.onInput)})}})}(jQuery,
defineComponent,phx.util);
FormElementList=function(a,e){return e({name:"FormElementList",mixins:[function(){this.defaultAttrs({formListItem:".form-composite-list_item",bulletElement:".form-element-radio, .form-element-checkbox"});this.onFormElementClick=function(b,c){var d=a(c.el).find(this.attr.bulletElement);this.hasBulletElement(d)&&!this.isBulletElement(b.target)&&!this.hasForRelation(b.target)&&(b.preventDefault(),d.prop("checked",!0))};this.hasBulletElement=function(a){return 0<a.length};this.hasForRelation=function(b){return a(b).attr("for")?
!0:!1};this.isBulletElement=function(b){return a(b).is(this.attr.bulletElement)?!0:!1};this.after("initialize",function(){this.on("click",{formListItem:this.onFormElementClick})})}]})}(jQuery,defineComponent);
(function(a,e){a.datepicker.setDefaults(a.datepicker.regional[e.locale()]={closeText:e.getString("datePickerCloseText"),prevText:e.getString("datePickerPrevText"),nextText:e.getString("datePickerNextText"),currentText:e.getString("datePickerCurrentText"),monthNames:e.getStringList("dateMonthNames"),monthNamesShort:e.getStringList("dateMonthNamesShort"),dayNames:e.getStringList("dateDayNames"),dayNamesShort:e.getStringList("dateDayNamesShort"),dayNamesMin:e.getStringList("dateDayNamesShort"),weekHeader:e.getString("datePickerWeekHeader"),
firstDay:1})})(jQuery,i18n);
DatePickerPeriod=function(a,e){e({name:"DatePickerPeriod",mixins:[function(){this.defaultAttrs({selectTrigger:"select.date",compositeFromFieldSelector:".form-composite-datepicker-period_from",compositeToFieldSelector:".form-composite-datepicker-period_to",datepickerSelector:".form-composite-datepicker_input",checkableElementSelector:".form-element-checkbox, .form-element-radio"});this.setMinDate=function(a,c){this.getDatepickerInstance(a).datepicker("option","minDate",c)};this.getDatepickerInstance=
function(a){return this.select(a).find(this.attr.datepickerSelector)};this.onFromDateSelect=function(a,c){this.setMinDate("compositeToFieldSelector",c.date)};this.onDateSelect=function(){this.selectCheckableItem()};this.selectCheckableItem=function(){this.select("checkableElementSelector").prop("checked",!0)};this.after("initialize",function(){this.on(this.attr.selectTrigger,this.onDateSelect);this.on(this.attr.selectTrigger,{compositeFromFieldSelector:this.onFromDateSelect})})}]})}(jQuery,defineComponent);
DatePicker=function(a,e,b){return e({name:"DatePicker",mixins:[function(){this.defaultAttrs({textfield:".form-composite-datepicker_input",icon:".form-composite-datepicker_icon",caseBottomLeft:"bottom-left",caseBottomRight:"bottom-right",caseTopLeft:"top-left",caseTopRight:"top-right",onSelectEventName:"select.date",inputDistance:4,position:"bottom-left",minDate:void 0,maxDate:void 0});this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0})};this.initializeDatePicker=function(){this.select("textfield").datepicker({minDate:this.attr.minDate,
maxDate:this.attr.maxDate,dateFormat:this.attr.dateFormat,beforeShow:this.beforeShow.bind(this),onClose:this.onClose.bind(this),onSelect:this.onSelection.bind(this)});this.select("icon").css("pointer-events","none")};this.onClose=function(){this.$node.removeClass(b.HAS_OPEN_FLYOUT)};this.beforeShow=function(a,d){this.$node.addClass(b.HAS_OPEN_FLYOUT);this.adjustFlyoutPosition(d)};this.onSelection=function(a){this.$node.trigger(this.attr.onSelectEventName,{date:a})};this.onIconClick=function(){setTimeout(function(){this.select("textfield").datepicker("show")}.bind(this),
0)};this.adjustFlyoutPosition=function(a){var b=a.dpDiv,e=a.input,g=this.attr.inputDistance;setTimeout(function(){var a=e.offset(),c=b.offset();b.css({marginTop:a.top<c.top?g:-g,zIndex:200})},0)};this.after("initialize",function(){this.initializePseudoClass();this.initializeDatePicker();this.on("click",{icon:this.onIconClick})})}]})}(jQuery,defineComponent,CssUtils.modifier);
Objectivation=function(a,e,b){return e({name:"Objectivation",mixins:[b,function(){this.defaultAttrs({actionSelector:".js-action",deleteElement:".objectivation_icon-delete",nameSelector:".objectivation_name"});this.triggerAction=function(a){a.stopPropagation();this.isDeleteTrigger(a.target)&&this.trigger("deleteObject")};this.isDeleteTrigger=function(b){return 0<a(b).closest(this.attr.actionSelector).has(this.attr.deleteElement).length};this.setName=function(a,b){this.select("nameSelector").text(b)};
this.initializePseudoClass=function(){var a={hover:!0};this.$node.pseudoClassify(a);this.select("actionSelector").pseudoClassify(a)};this.after("initialize",function(){this.on("click",{actionSelector:this.triggerAction});this.initializePseudoClass();this.on("setName",this.setName)})}]})}(jQuery,defineComponent,mixinFlyout);
ObjectivationAddressButtonWrite=function(a,e,b,c){return e({name:"ObjectivationAddressButtonWrite",parent:b,mixins:[function(){this.onSelect=function(){this.$node.addClass(c.IS_SELECTED);this.$node.focus()};this.onUnselect=function(){this.$node.removeClass(c.IS_SELECTED)};this.setUnselectable=function(){this.$node.attr("unselectable","on");this.$node.addClass("unselectable");this.$node.on("selectstart",!1)};this.after("initialize",function(){this.setUnselectable();this.on("select",this.onSelect);
this.on("unselect",this.onUnselect)})}]})}(jQuery,defineComponent,Objectivation,CssUtils.modifier);AttachmentButton=function(a,e,b){return e({name:"AttachmentButton",parent:b,mixins:[function(){this.defaultAttrs({extensionSelector:".attachmenttype"});this.onSetExtension=function(a,b){this.select("extensionSelector").text(b)};this.after("initialize",function(){this.on("setExtension",this.onSetExtension)})}]})}(jQuery,defineComponent,Objectivation);
TogglePanel=function(a,e,b){return e({name:"TogglePanel",mixins:[b,function(){this.defaultAttrs({header:".togglepanel_header",toggleVisibilityTriggerElement:".togglepanel_header"});this.initializePseudoClass=function(){this.select("header").pseudoClassify({hover:!0})};this.after("initialize",function(){this.initializePseudoClass()})}]})}(jQuery,defineComponent,mixinToggleVisibility);
TabPanel=function(a,e,b,c){return e({name:"TabPanel",mixins:[function(){this.defaultAttrs({category:".tabpanel_category",firstCategory:".tabpanel_category:first",activeCategory:".tabpanel_category."+b.IS_SELECTED,contentContainer:".tabpanel_content-container",content:".tabpanel_content",visibleContent:".tabpanel_content."+b.IS_VISIBLE});this.tabIndexDataAttribute="tab-index";this.tabRemoteDataAttribute="tab-remote";this.ajaxEventNameSpace="tabpanel";this.showCategoryContentByTabIndex=function(a){a=
this.getCategorySelector(a);this.select("content").filter(a).addClass(b.IS_VISIBLE)};this.getCategorySelector=function(b){return a.isNumeric(b)?"[data-"+this.tabIndexDataAttribute+'="'+b+'"]':null};this.getAjaxCallCompleteEventName=function(){return c.AJAX_CALL_COMPLETE+"."+this.ajaxEventNameSpace};this.hideVisibleCategoryContent=function(){this.select("visibleContent").removeClass(b.IS_VISIBLE)};this.selectFirstCategory=function(){var a,b;b=this.select("firstCategory");a=this.getTabIndex(b);this.selectLocalCategory(b,
a)};this.selectCategory=function(a,b){this.hasRemoteContent(a)?this.selectRemoteCategory(b):this.selectLocalCategory(a,b)};this.hasRemoteContent=function(a){return a instanceof jQuery?a.data(this.tabRemoteDataAttribute)?!0:!1:!1};this.selectLocalCategory=function(a,c){a.addClass(b.IS_SELECTED);this.showCategoryContentByTabIndex(c)};this.selectRemoteCategory=function(a){var b,c;c=this.getCategorySelector(a);this.on(document,this.getAjaxCallCompleteEventName(),function(){b=this.select("category").filter(c);
this.selectLocalCategory(b,a);this.unregisterAjaxCompleteEvent()})};this.unselectActiveCategory=function(){this.select("activeCategory").removeClass(b.IS_SELECTED);this.hideVisibleCategoryContent()};this.unregisterAjaxCompleteEvent=function(){this.off(document,this.getAjaxCallCompleteEventName())};this.onNavigationItemClick=function(b,c){var e,h;e=a(c.el);h=this.getTabIndex(e);this.unregisterAjaxCompleteEvent();this.unselectActiveCategory();this.selectCategory(e,h);a(document).trigger("resizeHandled")};
this.getTabIndex=function(a){return a.data(this.tabIndexDataAttribute)};this.after("initialize",function(){this.on("click",{category:this.onNavigationItemClick});this.selectFirstCategory()})}]})}(jQuery,defineComponent,CssUtils.modifier,Wicket.Event.Topic);
SmileyPanel=function(a,e){return e({name:"SmileyPanel",mixins:[mixinTrack,function(){this.defaultAttrs({group:".smileypanel_group",item:".smileypanel_item",smiley:".smileypanel_smiley"});this.panelCategoryDataAttribute="category";this.smileyImageFilenameDataAttribute="image-name";this.smileyImagePathDataAttribute="image-path";this.resourceImageClassName="resource-image";this.spriteImageClassName="smiley-sprite";this.onSmileyClick=function(b,c){var d;d=a(c.el).find(this.attr.smiley);if(d=this.getSmileyResource(d))this.trackSmileyWithCategoryLabel(),
this.trigger(document,"smiley.add",{resource:d})};this.trackSmileyWithCategoryLabel=function(){this.track(null,{smileyCategory:this.getCategoryName()})};this.getSmileyResource=function(a){var c;this.isSpriteImage(a)&&(c=this.getSmileyPath()+this.getSmileyFilename(a));this.isResourceImage(a)&&(c=a.attr("src"));return c||null};this.getSmileyFilename=function(a){return a.data(this.smileyImageFilenameDataAttribute)};this.getSmileyPath=function(){return this.$node.data(this.smileyImagePathDataAttribute)};
this.isResourceImage=function(a){return a instanceof jQuery?a.hasClass(this.resourceImageClassName):!1};this.isSpriteImage=function(a){return a instanceof jQuery?a.hasClass(this.spriteImageClassName):!1};this.getCategoryName=function(){return this.$node.data(this.panelCategoryDataAttribute)};this.after("initialize",function(){this.on("click",{item:this.onSmileyClick});this.select("item").pseudoClassify({hover:!0})})}]})}(jQuery,defineComponent);
QuickFilter=function(a,e){return e({name:"QuickFilter",mixins:[function(){this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0})};this.after("initialize",function(){this.initializePseudoClass()})}]})}(jQuery,defineComponent);
MailObjectPanelTextfield=function(a,e,b){return e({name:"MailObjectPanelTextfield",mixins:function(){this.defaultAttrs({label:".mailobjectpanel_label",content:".mailobjectpanel_content",textfield:".mailobjectpanel-textfield_input"});this.toggleVisibility=function(){this.isVisible()?this.hide():this.show()};this.isNotVisible=function(){return this.$node.hasClass(b.IS_HIDDEN)};this.isVisible=function(){return!this.isNotVisible()};this.hide=function(){this.$node.addClass(b.IS_HIDDEN)};this.show=function(){this.$node.removeClass(b.IS_HIDDEN)};
this.focusTextfield=function(){this.select("textfield").trigger("focus")};this.onLabelClick=function(){this.focusTextfield()};this.onContentClick=function(){this.focusTextfield()};this.initializePseudoClass=function(){this.$node.pseudoClassify({focus:!0});this.select("label").pseudoClassify({hover:!0})};this.after("initialize",function(){this.on("show",this.show);this.on("hide",this.hide);this.on("toggle",this.toggleVisibility);this.on("click",{content:this.onContentClick,label:this.onLabelClick});
this.initializePseudoClass()})}})}(jQuery,defineComponent,CssUtils.modifier);
MailObjectPanelSubject=function(a,e){return e({name:"MailObjectPanelSubject",parent:MailObjectPanelTextfield,mixins:function(){this.defaultAttrs({defaultText:"Resume E-Mail"});this.getValue=function(){var b=a(this.attr.textfield).val();return 0<b.length?b:this.attr.defaultText};this.triggerActiveDraftSubjectUpdate=function(){var b=this.getValue();a(".panel-composition").trigger("subject.update",{title:b})};this.clearDelay=function(){window.clearTimeout(this.timeout)};this.onInput=function(){this.clearDelay();
this.timeout=setTimeout(this.triggerActiveDraftSubjectUpdate.bind(this),500)};this.onFocus=function(){this.select("textfield").focus()};this.after("initialize",function(){this.on("keyup",this.onInput);this.on("focus",this.onFocus)})}})}(jQuery,defineComponent);
MailObjectPanelObjectivation=function(a,e,b){return e({name:"MailObjectPanelObjectivation",parent:MailObjectPanelTextfield,mixins:[b,function(){this.defaultAttrs({multiObjectTextField:".form-element-multiobjecttextfield",multiObject:".objectivation-address-write"});this.hasComponentHeightChanged=function(){return this.height!==this.getComponentHeight()};this.checkComponentHeight=function(){this.hasComponentHeightChanged()&&(this.height=this.getComponentHeight(),this.$node.trigger("resize"))};this.focusTextfield=
function(){this.select("multiObjectTextField").trigger("focus")};this.isSelect2Element=function(a){return a.hasClass("select2-input")};this.isObjectivationAddressButtonWriteElement=function(a){return 1===a.closest(this.attr.multiObject).length};this.onContentClick=function(b){b=a(b.target);!this.isSelect2Element(b)&&!this.isObjectivationAddressButtonWriteElement(b)&&this.focusTextfield()};this.getComponentHeight=function(){return this.$node.height()};this.addRecipient=function(a){this.select("multiObjectTextField").trigger("add",
a);this.focusTextfield()};this.onAddRecipientFromAddressChooser=function(a,b){this.hasOpenFlyout()&&this.addRecipient(b);a.stopPropagation()};this.onAddRecipient=function(a,b){this.addRecipient(b);a.stopPropagation()};this.onFocus=function(){this.focusTextfield()};this.after("initialize",function(){this.height=this.getComponentHeight();this.on("recipient.add",this.onAddRecipient);this.on("resize.select2",this.checkComponentHeight);this.on("focus",this.onFocus);this.on(document,"addresschooser/recipient/add",
this.onAddRecipientFromAddressChooser)})}]})}(jQuery,defineComponent,mixinFlyout);
(function(a){function e(){g=!1;"function"===typeof j&&j()}function b(a){f=!0;window.clearTimeout(d);a?(h.stop().css("display","none"),e()):h.fadeOut(600,e)}function c(c){c=a(c.target);!c.hasClass(".js-system-message_close")&&0===c.closest(h).length&&h.fadeOut(600,b)}var d,f=!1,g=!1,h,i,j=null,l,k;({init:function(){k=a("body");a(document).on("show.systemMessage.components",this.showSystemMessage)},showSystemMessage:function(e,m,q,p){if(void 0===m)throw"You must pass the dom element or selector for the system message";
if(void 0===q)throw"You must pass the dom element or selector for the container";g&&b(!0);f=!1;g=!0;h=a(m);i=a(q);j=p;h.css({display:"none",position:"fixed"});e=i.offset();a("html").hasClass("slideshow-visible")?(e.left=a(window).width()/2-h.outerWidth()/2,e.top=67,h.offset(e)):(e.left+=(i.width()-h.outerWidth())/2,h.css("left",e.left));h.find(".js-system-message_close").on("click",b);k.one("click",c);h.fadeIn(1E3,function(){f||(l=parseInt(h.attr("data-duration"),10)||2500,-1!==l&&(d=window.setTimeout(function(){b(!1)},
l)))}).on("mouseenter",function(){f=!0;window.clearTimeout(d)}).on("mouseleave",function(){b(!1)})}}).init()})(jQuery);
TableHover=function(a,e,b,c,d){e({name:"TableHover",mixins:[b,function(){this.defaultAttrs({delay:0,rowSelector:".table_body-row",rowDataParam:"rowId"});this.timer=0;this.hoverMenu=void 0;this.after("initialize",function(){this.hoverMenu=this.getTemplateContent("hoverMenu");this.initializePseudoClassify();this.bindEvents();this.on("teardown",this.destroy)});this.initializePseudoClassify=function(){this.select("rowSelector").pseudoClassify({hover:!0})};this.bindEvents=function(){var a=this.hoverMenu.find("a").get().map(function(a){return a.id});
c.Event.subscribeFor(c.Event.Topic.AJAX_CALL_BEFORE,a,this.bindHoverWicketEventDelegation,this);this.$node.on("mouseenter",this.attr.rowSelector,this,this.onMouseEnter);this.$node.on("mouseleave",this.attr.rowSelector,this,this.onMouseLeave)};this.removeEvents=function(){this.$node.off("mouseenter",this.attr.rowSelector,this.onMouseEnter);this.$node.off("mouseleave",this.attr.rowSelector,this.onMouseLeave);c.Event.unsubscribe(c.Event.Topic.AJAX_CALL_BEFORE,this.bindHoverWicketEventDelegation,this)};
this.bindHoverWicketEventDelegation=function(b,c){var d=this.attr.rowDataParam,e={},j=this.hoverMenu.parent(this.attr.rowSelector);e[d]=j.data(d);c.dep||(c.dep=[]);c.dep.push(function(){return e});this.trigger("hovermenu-click.table",{$originalTarget:a("#"+c.c),$row:j})};this.onMouseEnter=function(b){var c=b.data,d=c.attr.delay;0<d?c.timer=setTimeout(function(){c.showMenu(b.currentTarget);c.timer=null},d):c.showMenu(b.currentTarget);c.trigger("row-enter.table",a(b.currentTarget))};this.onMouseLeave=
function(b){var c=b.data,b=a(b.currentTarget);c.timer&&(clearTimeout(c.timer),c.timer=null);c.hideMenu();c.trigger("row-leave.table",b)};this.showMenu=function(b){!0!==a(b).data("keepHoverMenu")&&a(b).append(this.hoverMenu.show())};this.hideMenu=function(){this.hoverMenu.detach()};this.destroy=function(){this.removeEvents();this.attr.table=void 0;this.hoverMenu=this.attr.delay=void 0}},function(){this.hasOpenFlyoutClassName=d.HAS_OPEN_FLYOUT;this.defaultAttrs({hoverMenuSelector:".table-hover_menu"});
this.$hoveredRow=void 0;this.flyoutOpen=!1;this.after("initialize",function(){this.on("hovermenu-click.table",this.onHoverMenuFlyoutClick);this.on("row-enter.table",this.onRowEnter);this.on("row-leave.table",this.onRowLeave);a(document).on("close.ftd",this.closeFlyout.bind(this));this.on("teardown",function(){a(document).off("close.ftd",this.closeFlyout);this.flyoutOpen=this.$hoveredRow=void 0})});this.onRowEnter=function(b,c){this.$hoveredRow=a(c)};this.onRowLeave=function(){this.$hoveredRow=void 0};
this.onHoverMenuFlyoutClick=function(a,b){if(b.$originalTarget.is("[data-ftd-trigger]")){var c=this.hoverMenu.clone();this.flyoutOpen=!0;b.$row.addClass(this.hasOpenFlyoutClassName);b.$row.data("keepHover",!0);b.$row.data("keepHoverMenu",!0);this.hideMenu();b.$row.append(c)}};this.closeFlyout=function(){var b,c,d;if(this.flyoutOpen&&(b=!0,c=this.select("hoverMenuSelector"),1<c.length||!this.$hoveredRow?c.each(function(c,e){d=a(e).parent(this.attr.rowSelector);d.is(this.$hoveredRow)?b=!1:(a(e).remove(),
d.data("keepHover",!1).data("keepHoverMenu",!1).removeClass(this.hasOpenFlyoutClassName))}.bind(this)):(d=c.parent(this.attr.rowSelector),d.data("keepHover",!1).data("keepHoverMenu",!1).removeClass(this.hasOpenFlyoutClassName),this.showMenu(d),a(c).remove()),b))this.flyoutOpen=!1}}]})}(jQuery,defineComponent,mixinTemplate,Wicket,CssUtils.modifier);
(function(a){"undefined"==typeof a.fn.each2&&a.fn.extend({each2:function(e){for(var b=a([0]),c=-1,d=this.length;++c<d&&(b.context=b[0]=this[c])&&!1!==e.call(b[0],c,b););return this}})})(jQuery);
(function(a){function e(a,b){var c=0,d=b.length,e;if("undefined"===typeof a)return-1;if(a.constructor===String)for(;c<d;c+=1){if(0===a.localeCompare(b[c]))return c}else for(;c<d;c+=1)if(e=b[c],e.constructor===String){if(0===e.localeCompare(a))return c}else if(e===a)return c;return-1}function b(b,c){var d,e;if(null===b||1>b.length)return[];d=b.split(RegExp(c.join("|"),"g"));for(e=d.length;e--;)d[e]=a.trim(d[e]);return d}function c(a,b){var c;return function(){window.clearTimeout(c);c=window.setTimeout(b,
a)}}function d(a){a.preventDefault();a.stopPropagation()}function f(a,b,c){var d=a.toUpperCase().indexOf(b.toUpperCase()),b=b.length;0>d?c.push(a):(c.push(a.substring(0,d)),c.push("<span class='select2-match'>"),c.push(a.substring(d,d+b)),c.push("</span>"),c.push(a.substring(d+b,a.length)))}function g(b){var c,d=0,e=null,f=b.quietMillis||100;return function(g){window.clearTimeout(c);c=window.setTimeout(function(){var c=d+=1,f=b.data,h=b.transport||a.ajax,r=b.type||"GET",f=f.call(this,g.term,g.page,
g.context);null!==e&&e.abort();e=h.call(null,{url:b.url,dataType:b.dataType,data:f,type:r,contentType:"application/json; charset=UTF-8",success:function(a){c<d||(a=b.results(a,g.page),g.callback(a))}})},f)}}function h(b){var c=b,d,e=function(a){return""+a.text};a.isArray(c)||(e=c.text,a.isFunction(e)||(d=c.text,e=function(a){return a[d]}),c=c.results);return function(b){var d=b.term,f={};""===d?b.callback({results:c}):(f.results=a(c).filter(function(){return b.matcher(d,e(this))}).get(),b.callback(f))}}
function i(b){return a.isFunction(b)?b:function(c){var d=c.term,e={results:[]};a(b).each(function(){var a=void 0!==this.text,b=a?this.text:this;if(""===d||c.matcher(d,b))e.results.push(a?this:{id:this,text:this})});c.callback(e)}}function j(b){return a.isFunction(b)?b():b}function l(b,c){var d=function(){};d.prototype=new b;d.prototype.constructor=d;d.prototype.parent=b.prototype;d.prototype=a.extend(d.prototype,c);return d}if(void 0===window.Select2){var k,o,m,q,p;k=phx.util.KEYS;a(function(){a(document).on("click",
function(b){var c;c=b.target;if((c=a(c).closest(".select2-container").data("select2")||a(c).closest(".select2-drop").data("select2")||a(".select2-dropdown-open").data("select2"))&&c.opened()&&c.search.get(0)!==b.target)c.close(),c.blur()})});o=l(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(b){var f,g,h=this;this.opts=b=this.prepareOpts(b);this.id=b.id;void 0!==b.element.data("select2")&&null!==b.element.data("select2")&&this.destroy();this.enabled=!0;
this.container=this.createContainer();var i=!1,k;this.body=function(){!1===i&&(k=b.element.closest("body"),i=!0);return k};void 0!==b.element.attr("class")&&this.container.addClass(b.element.attr("class"));this.container.css(j(b.containerCss));this.container.addClass(j(b.containerCssClass));this.opts.element.data("select2",this).before(this.container);this.container.data("select2",this);this.onDataFinish=function(){0<h.results.find(".select2-result-selectable:not(.select2-disabled)").length&&0<h.search.val().length&&
(h.dropdown.addClass("select2-drop-active"),h.container.addClass("select2-dropdown-open").addClass("select2-container-active"),h.dropdown[0]!==h.body().children().last()[0]&&h.dropdown.detach().appendTo(h.body()),h.dropdown.show(),h.ensureHighlightVisible(),h.positionDropdown())};this.container.on("data-finish",this.onDataFinish);this.dropdown=this.container.find(".select2-drop");this.dropdown.css(j(b.dropdownCss));this.dropdown.addClass(j(b.dropdownCssClass));this.dropdown.data("select2",this);this.results=
f=this.container.find(".select2-results");this.search=g=this.container.find("input.select2-input");this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();this.dropdown.on("mouseover",".select2-results",this.highlightUnderEvent.bind(this));var l=this.results,m=c(80,function(a){l.trigger("scroll-debounced",a)});l.bind("scroll",function(a){0<=e(a.target,l.get())&&m(a)});this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded));a.fn.mousewheel&&
f.mousewheel(function(a,b,c,e){b=f.scrollTop();0<e&&0>=b-e?(f.scrollTop(0),d(a)):0>e&&f.get(0).scrollHeight-f.scrollTop()+e<=f.height()&&(f.scrollTop(f.get(0).scrollHeight-f.height()),d(a))});g.bind("keydown",function(){void 0===a.data(g,"keyup-change-value")&&a.data(g,"keyup-change-value",g.val())});g.bind("keyup",function(){var b=a.data(g,"keyup-change-value");void 0!==b&&g.val()!==b&&(a.removeData(g,"keyup-change-value"),g.trigger("keyup-change"))});g.bind("keyup-change",this.bind(this.updateResults));
g.bind("focus",function(){g.addClass("select2-focused");" "===g.val()&&g.val("")});g.bind("blur",function(){g.removeClass("select2-focused");this.blur()}.bind(this));this.dropdown.delegate(".select2-results","click",this.bind(function(b){0<a(b.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(a.browser.msie&&this.search.val(""),this.highlightUnderEvent(b),this.selectHighlighted(b),this.clearSearch()):this.focusSearch()}));this.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()});
a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());b.element.is(":disabled")&&this.disable()},destroy:function(){var a=this.opts.element.data("select2");void 0!==a&&(a.container.remove(),a.dropdown.remove(),a.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(c){var d,e,f;d=c.element;"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element);c.separator=c.separator||[","];e&&a.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),
function(){if(this in c)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");});c=a.extend({},{populateResults:function(b,d,e){var f,g=this.opts.id;f=function(b,d,h){var i,r,j,k,s,l,t;i=0;for(r=b.length;i<r;i+=1)j=b[i],k=void 0!==g(j),s="children"in j&&0<j.children.length,l=a("<li></li>"),l.addClass("select2-results-dept-"+h),l.addClass("select2-result"),l.addClass(k?"select2-result-selectable":"select2-result-unselectable"),s&&l.addClass("select2-result-with-children"),
k=a("<div></div>"),k.addClass("select2-result-label"),t=c.formatResult(j,k,e),void 0!==t&&k.append(a.parseHTML(t,k)),l.append(k),s&&(s=a("<ul></ul>"),s.addClass("select2-result-sub"),f(j.children,s,h+1),l.append(s)),l.data("select2-data",j),d.append(l)};f(d,b,0)}},a.fn.select2.defaults,c);"function"!==typeof c.id&&(f=c.id,c.id=function(a){return a[f]});e?(c.query=this.bind(function(b){var c={results:[],more:!1},e=b.term,f,g,h;h=function(a,c){var d;a.is("option")?b.matcher(e,a.text(),a)&&c.push({id:a.attr("value"),
text:a.text(),element:a.get()}):a.is("optgroup")&&(d={text:a.attr("label"),children:[],element:a.get()},a.children().each2(function(a,b){h(b,d.children)}),0<d.children.length&&c.push(d))};f=d.children();void 0!==this.getPlaceholder()&&0<f.length&&(g=f[0],""===a(g).text()&&(f=f.not(g)));f.each2(function(a,b){h(b,c.results)});b.callback(c)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?c.query=g(c.ajax):"data"in c?c.query=h(c.data):"tags"in c&&(c.query=i(c.tags),c.createSearchChoice=function(a){return{id:a,
text:a}},c.initSelection=function(d,e){var f=[];a(b(d.val(),c.separator)).each(function(){f.push({id:this,text:this})});e(f)}));if("function"!==typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");return c},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(b){b=b||{};b=a.extend({},b,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",
!0);this.opts.element.trigger(b);this.opts.element.data("select2-change-triggered",!1)},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b=this.container.offset(),c=this.search.offset(),d=this.search.outerHeight(),e=
this.container.outerWidth(),f=this.dropdown.outerHeight(),g=this.dropdown.outerWidth(),h=a(window).scrollTop()+document.documentElement.clientHeight,i=a(window).scrollLeft()+document.documentElement.clientWidth,d=c.top+d,j=c.left,h=d+f<=h,k=b.top-f>=this.body().scrollTop(),c=c.left+g<=i;this.dropdown.hasClass("select2-drop-above")?(i=!0,!k&&h&&(i=!1)):(i=!1,!h&&k&&(i=!0));i?(d=b.top-f,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),
this.dropdown.removeClass("select2-drop-above"));c||(j=b.left+e-g);this.dropdown.css({top:d,left:j,width:e})},shouldOpen:function(){var a;if(this.opened())return!1;a=jQuery.Event("open");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;window.setTimeout(this.bind(this.opening),1);return!0},opening:function(){this.clearDropdownAlignmentPreference();
" "===this.search.val()&&this.search.val("");this.updateResults(!0)},close:function(){this.opened()&&(this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty())},clearSearch:function(){},ensureHighlightVisible:function(){var b=this.results,c,d,e,f;d=this.highlight();0>d||(0==d?b.scrollTop(0):(c=b.find(".select2-result-selectable"),e=a(c[d]),f=e.offset().top+e.outerHeight(),d===c.length-1&&(c=b.find("li.select2-more-results"),
0<c.length&&(f=c.offset().top+c.outerHeight())),c=b.offset().top+b.outerHeight(),f>c&&b.scrollTop(b.scrollTop()+(f-c)),e=e.offset().top-b.offset().top,0>e&&b.scrollTop(b.scrollTop()+e)))},moveHighlight:function(b){for(var c=this.results.find(".select2-result-selectable"),d=this.highlight();-1<d&&d<c.length;){var d=d+b,e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")){this.highlight(d);break}}},highlight:function(b){var c=this.results.find(".select2-result-selectable");
if(0===arguments.length)return e(c.filter(".select2-highlighted")[0],c.get());b>=c.length&&(b=c.length-1);0>b&&(b=0);c.removeClass("select2-highlighted");a(c[b]).addClass("select2-highlighted");this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(b){b=a(b.target).closest(".select2-result-selectable");this.results.find(".select2-highlighted").not(b).removeClass("select2-highlighted");
b.addClass("select2-highlighted")},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c,d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),0>=c&&(b.addClass("select2-active"),this.opts.query({term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(c){e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:g});!0===c.more?(b.detach().appendTo(a.children(":last")).text(e.opts.formatLoadMore(d+
1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove();e.positionDropdown();e.resultsPage=d})})))},updateResults:function(b){function c(){g.scrollTop(0);e.removeClass("select2-active");i.positionDropdown()}function d(a){g.html(a);c()}var e=this.search,f=e.val(),g=this.results,h=this.opts,i=this;!0!==b&&(!1===this.showSearchInput||!this.opened())||(e.addClass("select2-active"),f.length<h.minimumInputLength?a.isFunction(h.formatInputTooShort)?d("<li class='select2-no-results'>"+h.formatInputTooShort(f,
h.minimumInputLength)+"</li>"):(d(""),this.opened()&&this.dropdown.hide()):(this.resultsPage=1,h.query({term:f,page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(e){var j;this.context=void 0===e.context?null:e.context;this.opts.createSearchChoice&&""!==f&&(j=this.opts.createSearchChoice.call(null,f,e.results),void 0!==j&&null!==j&&void 0!==i.id(j)&&null!==i.id(j)&&0===a(e.results).filter(function(){var a=i.id(this),b=i.id(j);return a===b?!0:void 0===a||void 0===b||null===
a||null===b?!1:a.constructor===String?0===a.localeCompare(b):b.constructor===String?0===b.localeCompare(a):!1}).length&&e.results.unshift(j));0===e.results.length?a.isFunction(h.formatNoMatches)?d("<li class='select2-no-results'>"+h.formatNoMatches(f)+"</li>"):(d(""),this.opened()&&(this.container.removeClass("select2-dropdown-open"),this.dropdown.hide())):(g.empty(),i.opts.populateResults.call(this,g,e.results,{term:f,page:this.resultsPage,context:null}),!0===e.more&&(g.children().filter(":last").append("<li class='select2-more-results'>"+
h.formatLoadMore(this.resultsPage)+"</li>"),window.setTimeout(function(){i.loadMoreIfNeeded()},10)),this.postprocessResults(e,b),this.container.trigger("data-finish"),c())})})))},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus").children().trigger("unselect")},focusSearch:function(){window.setTimeout(this.bind(function(){var a=
this.container.parent();a.scrollTop(a[0].scrollHeight-a.height());this.search.focus();this.search.parent().siblings(".select2-search-choice-focus").removeClass("select2-search-choice-focus").children().trigger("unselect")}),10)},selectHighlighted:function(){var a=this.highlight(),b=this.results.find(".select2-highlighted").not(".select2-disabled"),c=b.closest(".select2-result-selectable").data("select2-data");c&&(b.addClass("select2-disabled"),this.highlight(a),this.clearSearch(),this.focusSearch(),
this.onSelect(c))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var b=function(){var b,c,d,e;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){b=this.opts.element.attr("style");
if(void 0!==b){b=b.split(";");d=0;for(e=b.length;d<e;d+=1)if(c=b[d].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==c&&1<=c.length)return c[1]}return"resolve"===this.opts.width?(b=this.opts.element.css("width"),0<b.indexOf("%")?b:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==b&&this.container.attr("style","width: "+b)}});m=l(o,
{});q=l(o,{createContainer:function(){return a("<div></div>",{"class":"select2-container select2-container-multi"}).html("    <ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' style='width: 25px;' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi' style='display:none;'>   <ul class='select2-results'>   </ul></div>")},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);"select"===b.element.get(0).tagName.toLowerCase()&&
(b.initSelection=function(b,c){var d=[];b.find(":selected").each2(function(a,b){d.push({id:b.attr("value"),text:b.text()})});a.isFunction(c)&&c(d)});return b},paste:function(){phx.util.nextTick(this.bind(function(){var c,d,e,f;c=this.search.val();c=c.replace(/(\n|\r)/g,",").replace(/\t/g,"");c=b(c,this.opts.separator);e=0;for(f=c.length;e<f;e++)if(d=a.trim(c[e]),0<d.length)this.onSelect({text:d,id:d,toQueue:e!=f-1});this.clearSearch()}))},initContainer:function(){var b,c=this;this.searchContainer=
this.container.find(".select2-search-field");this.selection=b=this.container.find(".select2-choices");this.search.on("paste",this.bind(this.paste));this.search.bind("keydown",this.bind(function(b){if(this.enabled){if(this.opened())switch(b.which){case k.UP:case k.DOWN:this.moveHighlight(b.which===k.UP?-1:1);d(b);return}b.which===k.ENTER&&d(b);if(b.which===k.TAB){if(0===a.trim(this.search.val()).length)if(this.searchContainer.hasClass("edit-mode")&&0<this.searchContainer.next().length)this.removeEditMode(),
this.abortEdit(),this.focusSearch();else return;d(b)}b.which===k.ESC?(this.searchContainer.hasClass("edit-mode")&&this.abortEdit(),this.cancel(b),d(b)):b.which===k.TAB||k.isControl(b)||(k.isFunctionKey(b)||b.which===k.ESC)||(b.which===k.PAGE_UP||b.which===k.PAGE_DOWN)&&d(b)}}));this.search.bind("keyup",this.bind(function(e){if(e.which===k.BACKSPACE&&""===this.search.val()&&!this.searchContainer.hasClass("edit-mode")){this.close();var f;f=b.find(".select2-search-choice-focus");if(0<f.length){this.unselect(f.first());
this.search.width(10);this.resizeSearch();d(e);return}f=b.find(".select2-search-choice");if(0<f.length){f.last().addClass("select2-search-choice-focus").children().trigger("select");d(e);return}}else b.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus").children().trigger("unselect");if(e.which===k.ENTER||e.which===k.TAB||!0===this.isSeparator())if(d(e),this.opened())this.selectHighlighted();else{if(e=a.trim(this.search.val()),this.clearSearch(),this.focusSearch(),0<e.length)this.onSelect({id:e,
text:e})}else c.open(),c.resizeSearch()}));this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.clearSearch()},isSeparator:function(){var a=this.opts.separator,b=this.search.val(),c=b.substr(b.length-1,1);return-1!==a.indexOf(c)?(this.search.val(b.substring(0,b.length-1)),!0):!1},enable:function(){this.enabled||(this.parent.enable.apply(this,
arguments),this.search.show())},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.hide())},blur:function(){if(this.opened())return!1;var b=a.trim(this.search.val());if(0<b.length)this.onSelect({id:b,text:b});this.parent.blur.apply(this,arguments)},initSelection:function(){""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,
function(b){void 0!==b&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder();void 0!==a&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?this.search.val(a).addClass("select2-default"):this.search.val("").width(10);this.resizeSearch()},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,
arguments);this.clearPlaceholder();this.resizeSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.resizeSearch();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],f=this;a(b).each(function(){0>e(f.id(this),c)&&(c.push(f.id(this)),d.push(this))});b=d;this.selection.find(".select2-search-choice").remove();this.opts.element.val("");a(b).each(function(){f.addSelectedChoice(this)});
f.postprocessResults()},onSelect:function(a){this.addSelectedChoice(a);this.select&&this.postprocessResults();this.opts.closeOnSelect?this.close():0<this.countSelectableResults()?this.positionDropdown():this.close();setTimeout(this.bind(function(){this.resizeSearch()}),10);this.triggerChange({added:a});this.searchContainer.hasClass("edit-mode")&&this.searchContainer.removeClass("edit-mode").data("oldData",null).appendTo(this.selection)},cancel:function(){this.close()},addSelectedChoice:function(b){var c=
a("<li class='select2-search-choice'></li>"),d=this.id(b),e=this.getVal(),f=a(this.opts.formatSelection(b,c));void 0!==f&&c.append(f);f.on("deleteObject",this.bind(function(b){var d=this;this.enabled&&(c.off(),a(b.target).closest(".select2-search-choice").hide(0,function(){a(b.target)&&(d.unselect(a(b.target)),d.close(),d.search.width(10),d.resizeSearch(),d.focusSearch())}).dequeue(),b.preventDefault(),phx.ftd.close())})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),
this.dropdown.addClass("select2-drop-active"))}));if(!0===this.opts.edit)c.on("click dblclick",this.bind(function(a){"dblclick"===a.type?(this.searchContainer.hasClass("edit-mode")&&this.abortEdit(),this.edit(c)):(f.trigger("select"),c.addClass("select2-search-choice-focus"))}));c.data("select2-data",b);this.search.width(0);c.insertBefore(this.searchContainer);ObjectivationAddressButtonWrite.attachTo(f);e.push(d);this.setVal(e)},edit:function(b){var c=b.data("select2Data"),d=this.opts.formatEdit(c),
e=b.prev();phx.ftd.close();this.searchContainer.addClass("edit-mode").data("oldData",c);this.unselect(b);0==e.length?this.selection.prepend(this.searchContainer):e.after(this.searchContainer);this.search.val(d);this.resizeSearch();phx.util.setCaretPosition(this.search[0],d.length);a(this.container).trigger("resize.select2")},abortEdit:function(){var a=this.searchContainer.data("oldData");a&&this.addSelectedChoice(a);this.searchContainer.appendTo(this.selection);this.clearSearch();this.removeEditMode()},
removeEditMode:function(){this.searchContainer.removeData("oldData");this.searchContainer.removeClass("edit-mode");a(this.container).trigger("resize.select2")},unselect:function(a){var b=this.getVal(),c,d,a=a.closest(".select2-search-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";c=a.data("select2-data");d=e(this.id(c),b);0<=d&&(b.splice(d,1),this.setVal(b),this.select&&this.postprocessResults());a.find(".objectivation").trigger("teardown");a.remove();this.triggerChange({removed:c})},
postprocessResults:function(){var a=this.getVal(),b=this.results.find(".select2-result-selectable"),c=this;b.each2(function(b,d){var f=c.id(d.data("select2-data"));0<=e(f,a)?d.addClass("select2-disabled"):d.removeClass("select2-disabled")});b.each2(function(a,b){if(!b.hasClass("select2-disabled"))return c.highlight(a),!1})},resizeSearch:function(){this.search.width(0);var b;b=this.search;if(!p){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);p=a("<div></div>").css({position:"absolute",
left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"});a("body").append(p)}p.text(b.val());b=p.width();var c=this.selection.width(),d=this.selection.offset(),e=this.selection.find(".select2-search-choice").last(),f=this.searchContainer.hasClass("edit-mode"),g;0!==e.length&&(g=f?b+20:c-(e.offset().left-d.left+e.outerWidth()));if(!g||g<b||
0>g-10)g=c;this.search.width(g-10);a(this.container).trigger("resize.select2")},getVal:function(){var a;if(this.select)return a=this.select.val(),null===a?[]:a;a=this.opts.element.val();return b(a,["~`~"])},setVal:function(b){this.select?this.select.val(b):(b=a.isArray(b)&&0<b.length?b.join("~`~"):b||"",this.opts.element.val(b))},val:function(){var b,c=[],d=this;if(0===arguments.length)return this.getVal();b=arguments[0];this.select?(this.setVal(b),this.select.find(":selected").each(function(){c.push({id:a(this).attr("value"),
text:a(this).text()})}),this.updateSelection(c)):(b=null===b?[]:b,a(b).each(function(){c.push(d.id(this))}),this.setVal(c),this.updateSelection(b));this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());
this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))});this.setVal(b);this.triggerChange()},data:function(b){var c=this,d;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get();d=a.map(b,function(a){return c.opts.id(a)});this.setVal(d);this.updateSelection(b);this.clearSearch()},removeData:function(b){var c=this;this.selection.children().each(function(d,
e){a(e).data("select2Data")==b&&c.unselect(a(e))})},addData:function(a){this.onSelect(a)}});a.fn.select2=function(){var b=Array.prototype.slice.call(arguments,0),c,d,f,g,h="val destroy open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data removeData addData edit resizeSearch".split(" ");this.each(function(){if(0===b.length||"object"===typeof b[0])c=0===b.length?{}:a.extend({},b[0]),c.element=a(this),"select"===c.element.get(0).tagName.toLowerCase()?g=c.element.attr("multiple"):
(g=c.multiple||!1,"tags"in c&&(c.multiple=g=!0)),d=g?new q:new m,d.init(c);else if("string"===typeof b[0]){if(0>e(b[0],h))throw"Unknown method: "+b[0];f=void 0;d=a(this).data("select2");if(void 0!==d&&(f="container"===b[0]?d.container:d[b[0]].apply(d,b.slice(1)),void 0!==f))return!1}else throw"Invalid arguments to select2 plugin: "+b;});return void 0===f?this:f};a.fn.select2.defaults={width:"copy",closeOnSelect:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,
b,c){b=[];f(a.text,c.term,b);return b.join("")},formatSelection:function(a){return a.text},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){return"Please enter "+(b-a.length)+" more characters"},formatLoadMore:function(){return"Loading more results..."},minimumResultsForSearch:0,minimumInputLength:0,id:function(a){return a.id},matcher:function(a,b){return 0<=b.toUpperCase().indexOf(a.toUpperCase())}};window.Select2={query:{ajax:g,local:h,tags:i},util:{debounce:c,
markMatch:f},"class":{"abstract":o,single:m,multi:q}}}})(jQuery);
MultiObjectTextField=function(a,e,b,c,d){return e({name:"MultiObjectTextField",mixins:[c,function(){this.initialized=!1;this.defaultAttrs({objectValidationUrl:"",objects:null,select2InitInput:"input.js-select2",objectivationElements:".select2-choices .select2-search-choice .objectivation",inputSearchField:".select2-input"});this.queue=[];this.setText=function(a,b,c){b.find(".objectivation_name").attr("title",c.id).text(c.personalPart||c.id);!1===c.isValid&&b.addClass("is-invalid");a.data("select2-data",
c)};this.formatSelection=function(b,c){var d=a(this.formatSelectionTemplate);this.addObjectivationBehavior(c,d,b);this.initializeObjectQueue(b,c,d);d.closest(".text-wrapper").scrollTop(1E4);return d};this.addObjectivationBehavior=function(a,b,c){this.setText(a,b,c)};this.updateObjectivationBehavior=function(a,b,c){this.setText(a,b,c)};this.checkDataForQueueRequest=function(a){return void 0===a.isValid};this.initializeObjectQueue=function(a,b,c){this.checkDataForQueueRequest(a)&&(this.queueObjectForRequest(b,
c,a.id),a.toQueue||this.requestObjectInformation())};this.queueObjectForRequest=function(a,b,c){this.queue.push({select2EntryObject:a,objectivationElement:b,id:c})};this.requestObjectInformation=function(){a.ajax({type:"POST",url:this.attr.objectValidationUrl,data:this.getJsonPostData(),success:this.updateObjectivationElementWithNewData.bind(this),dataType:"json"})};this.getJsonPostData=function(){return{idList:JSON.stringify(this.getObjectIdList())}};this.getObjectIdList=function(){var b={};a.each(this.queue,
function(a,c){b[c.id]=this.getIdObjectData(c)}.bind(this));return b};this.getIdObjectData=function(){return{}};this.updateObjectivationElementWithNewData=function(a){var b,c,e;c=0;for(e=a.length;c<e;c++)b=this.grepObjectAndRemoveFromQueue(a[c]),null!==b?this.updateObjectivationBehavior(b.select2EntryObject,b.objectivationElement,a[c]):d.Log.error("The object with the id "+a[c].id+" doesn't exist in the MultiObjectTextField queue");this.resize()};this.grepObjectAndRemoveFromQueue=function(a){var b,
c,d,e=this.queue;c=0;for(d=e.length;c<d;c++)if(e[c].id===a.id){b=c;break}return void 0!==b?e.splice(b,1)[0]:null};this.formatResult=function(a,b,c){b=RegExp("(&|&l|&g)?("+c.term+")","gi");return a.text.replace("<","&lt;").replace(">","&gt;").replace(b,function(a){return"&lt"===a||"&gt"===a||"&g"===a||"&l"===a?a:'<span class="select2-match">'+a+"</span>"})};this.formatEdit=function(a){return a.id};this.formatSelectionTemplate=a();this.onFocus=function(a){this.select("select2InitInput").select2("focus");
a.stopPropagation()};this.unselectObjectivationElements=function(b,c){var d=a(c.el);this.select("objectivationElements").not(d).trigger("unselect")};this.add=function(a,b){var c=this.select("select2InitInput");-1===c.select2("val").indexOf(b.address)&&c.select2("addData",{id:b.address,personalPart:0<b.name.length?b.name:b.address,email:b.email})};this.resize=function(){this.select("select2InitInput").select2("resizeSearch")};this.initPredefinedValues=function(){var b=this.attr.objects;a.isArray(b)&&
(this.convertObjectsToSelect2Data(b),this.select("select2InitInput").select2("data",b),this.resize())};this.convertObjectsToSelect2Data=function(a){var b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],"string"===typeof d&&(a[b]={id:d})};this.getSelect2ObjectFromObjectivationElement=function(b){return a(b).parent()};this.deleteSelectedObjectivations=function(a,b){b.select2("removeData",a);b.select2("focus")};this.getSelectedObjectivationElements=function(){return this.select("objectivationElements").filter(".is-selected")};
this.onDocumentKeyUp=function(c){var d=this.getSelectedObjectivationElements(),e,i;0<d.length&&(i=this.select("select2InitInput"),e=this.getSelect2ObjectFromObjectivationElement(d),0<d.length&&(c.which===b.KEYS.ENTER?(i.select2("edit",e),c.preventDefault()):(c.which===b.KEYS.BACKSPACE||c.which===b.KEYS.DELETE)&&e.each(function(b,c){this.deleteSelectedObjectivations(a(c).data("select2Data"),i)}.bind(this))))};this.initializeComponent=function(){this.formatSelectionTemplate=this.getTemplateContentAsHtmlString("addressWrite");
this.on("focus",this.onFocus);this.on("add",this.add);this.on("click",{inputSearchField:this.unselectObjectivationElements});this.on("select",{objectivationElements:this.unselectObjectivationElements});this.on("multiobjecttextfield.resize",this.resize);this.on(document,"keyup",this.onDocumentKeyUp);b.nextTick(function(){var a=this.select("select2InitInput").data("select2").opts;a.formatSelection=this.formatSelection.bind(this);a.formatResult=this.formatResult.bind(this);a.formatEdit=this.formatEdit.bind(this);
this.initPredefinedValues();this.initialized=!0},this)};this.after("initialize",function(){this.initializeComponent()})}]})}(jQuery,defineComponent,phx.util,mixinTemplate,Wicket);
AddressChooser=function(a,e,b,c){return a({name:"AddressChooser",mixins:[e,mixinKeypress,function(){this.defaultAttrs({textfield:".form-composite-addresschooser_textfield",icon:".form-composite-addresschooser_icon"});this.addRecipient=function(a,b){var c;this.hasOpenFlyout()&&(c=this.select("textfield"),c.val(b.email||b.name),c.focus(),this.trigger("addresschooser/close"),this.triggerSetValue(a,b))};this.setAlignmentBottomRight=function(){var a,b;b=this.select("icon");a=b.width();b.attr("data-ftd-offset",
a)};this.getFlyoutPosition=function(){return this.select("icon").data("ftd-position")||null};this.positionAlignment=function(){"bottom-right"===this.getFlyoutPosition()&&this.setAlignmentBottomRight()};this.triggerSetValue=function(){var a={email:this.select("textfield").val()};this.trigger("addresschooser/set/value",a)};this.initializeKeyBindings=function(){this.addKey(c.ENTER,this.triggerSetValue,{preventInputKeys:!1});this.startKeyListener()};this.initializeEventBindings=function(){this.on(document,
"addresschooser/recipient/add",this.addRecipient);this.on(document,"addresschooser/open",this.stopKeyListener);this.on(document,"addresschooser/close",this.startKeyListener);this.on("focusout",this.triggerSetValue)};this.initializePseudoClass=function(){this.$node.pseudoClassify({hover:!0})};this.after("initialize",function(){this.initializePseudoClass();this.positionAlignment();this.initializeEventBindings();this.initializeKeyBindings()})}]})}(defineComponent,mixinFlyout,mixinKeypress,phx.util.KEYS);
MailInfoLayer=function(a,e,b){return e({name:"MailInfoLayer",mixins:[function(){this.defaultAttrs({eventName:null});this.onFireChangeVisibility=function(a,b){if(void 0===b)throw Error("A boolean value which shows/hides must be send with the event");this.setVisibility(b)};this.setVisibility=function(a){!0===a?this.$node.removeClass(b.IS_HIDDEN):this.$node.addClass(b.IS_HIDDEN);this.fireResizeHandler()};this.fireResizeHandler=function(){a(document).trigger("resizeHandled")};this.after("initialize",
function(){this.on(document,this.attr.eventName,this.onFireChangeVisibility)})}]})}(jQuery,defineComponent,CssUtils.modifier);HelpIconLink=function(a,e){return a({name:"HelpIconLink",mixins:[e,function(){this.after("initialize",function(){this.$node.pseudoClassify({hover:!0})})}]})}(defineComponent,mixinPopup);HelpTextLink=function(a,e,b){return a({name:"HelpTextLink",parent:b,mixins:[e]})}(defineComponent,mixinPopup,IconLink);
HelpTooltipIconLink=function(a,e,b,c){return e({name:"HelpTooltipIconLink",parent:c,mixins:[b,function(){this.defaultAttrs({position:"south",align:"center"});this.templateName="helpTooltipContent";this.tooltipType="infobubble";this.tooltipVisible=this.tooltipConfigured=!1;this.$tooltip=a();this.configureTooltip=function(){this.$tooltip=this.$node.tooltip({position:this.attr.position,align:this.attr.align,container:a("body"),type:this.tooltipType,contentMode:"html",content:this.getTemplateContent(this.templateName)});
this.tooltipConfigured=!0};this.hideTooltip=function(){this.$tooltip.hide();this.tooltipVisible=!1};this.showTooltip=function(){this.tooltipConfigured||this.configureTooltip();this.$tooltip.show();this.tooltipVisible=!0};this.isOutsideTooltip=function(a){return!this.tooltipConfigured||!a||!a.length||a.get(0)!==this.$tooltip.get(0)&&!this.$tooltip.has(a).length};this.isHelpTextLink=function(a){return"HelpTextLink"===a.data("component")};this.addDocumentClickListener=function(){var b;this.on(document,
"click",b=function(c){c=a(c.target);if(this.isHelpTextLink(c)||this.isOutsideTooltip(c))this.hideTooltip(),this.off(document,"click",b)})};this.onComponentClick=function(a){this.tooltipVisible||(this.showTooltip(),a.stopPropagation(),this.trigger(document,"click"),this.addDocumentClickListener())};this.after("initialize",function(){this.on("click",this.onComponentClick)});this.before("teardown",function(){this.$tooltip&&(this.$tooltip.find(".js-component").trigger("teardown"),this.$tooltip.remove())})}]})}(jQuery,
defineComponent,mixinTemplate,IconLink);
(function(a){function e(a){return"west"===a.position||"east"===a.position}function b(a){return"north"===a.position||"south"===a.position}function c(a,b){return a.fallbackPosition||{position:b,align:a.align||h.align[b]}}function d(a,c,d,f,g,h){var i,n,r,s={},t;e(a)?(i="top",n="bottom",r="h"):b(a)&&(i="left",n="right",r="w");f[i]>d[i]&&(t=d[i]-f[i],a.align===n?s[n]=parseInt(c.css(n),10)+t+"px":s[i]=parseInt(c.css(i),10)-t+"px");f=f[i]+h[r];d=d[i]+g[r];if((!a.noBottomConstrain||"bottom"!==n)&&f<d)d=
f-d,a.align===n?s[n]=parseInt(c.css(n),10)-d+"px":s[i]=parseInt(c.css(i),10)+d+"px";return s}function f(f,l,k){var o=a(f);o.tooltip().trigger("close");l.content=k||l.content;k=l;l=2*(h.stemDistance+h.stemWidth/2);k.position=k.position||o.data("tooltip-position")||h.position;k.align=k.align||o.data("tooltip-align")||h.align[k.position];k.id="ttpid"+g++;if(b(k)&&o.outerWidth()<=l||e(k)&&o.outerHeight()<=l)k.align="center";k.contentMode=k.contentMode||h.contentMode;var k=l=k,m;m=k.container?o.position():
o.offset();var q,p,n={top:m.top,left:m.left};b(k)?(q="right",m="left",p="outerWidth"):(q="bottom",m="top",p="outerHeight");k.align===q?n[m]+=o[p]():"center"===k.align&&(n[m]+=Math.floor(o[p]()/2));"south"===k.position?n.top+=o.outerHeight():"east"===k.position&&(n.left+=o.outerWidth());m=n;q=m.left;m=m.top;k.offsetX&&(q+=k.offsetX);k.offsetY&&(m+=k.offsetY);p=l;k=a('<div id="'+p.id+'" class="'+("tooltip tooltip-"+p.position+(" tooltip-"+p.align)+(p.type?"  tooltip-"+p.type:""))+'"><div class="tooltip_stem"><div class="tooltip_stem_left"></div><div class="tooltip_stem_right"></div></div><div class="tooltip_content"></div></div>');
n=k.find(".tooltip_content");switch(p.contentMode){case "html":n.append(p.content);break;default:n.text(p.content)}k.css({top:m,left:q}).one("close",function(){o.data("tooltip-id",null);a(this).remove()});l.container?k.appendTo(f.offsetParent):k.appendTo("body");o.data("tooltip-id",l.id);f=l;"center"===f.align&&(q={},m=k.find(".tooltip_content"),e(f)?q.top=Math.round(-1*(m.outerHeight()/2))+"px":b(f)&&(q.left=Math.round(-1*(m.outerWidth()/2))+"px"),m.css(q));var r;a:{if(void 0!==l.container){f=k.find(".tooltip_content");
p=a(l.container);q=p.offset();m=f.offset();p={w:p.innerWidth(),h:p.innerHeight()};n={w:f.outerWidth(),h:f.outerHeight()};switch(l.position){case "west":r={big:m.left,small:q.left,fallback:c(l,"east")};break;case "east":r={big:q.left+p.w,small:m.left+n.w,fallback:c(l,"west")};break;case "south":r={big:q.top+p.h,small:m.top+n.h,fallback:c(l,"north")};break;case "north":r={big:m.top,small:q.top,fallback:c(l,"south")}}if("south"!==l.position||!l.noBottomConstrain){var s=r.fallback;r.big<r.small&&!l.reInit?
(i[l.position]!==s.position&&(l.fallbackPosition=void 0),l.position=s.position,l.align=s.align,l.reInit=!0,r=o.tooltip(l)):r=null;if(null!==r)break a}f.css(d(l,f,m,q,n,p))}r=k}return r}var g=0,h={position:"north",contentMode:"text",align:{north:"left",south:"left",west:"center",east:"center"},stemDistance:6,stemHeight:6,stemWidth:12},i={east:"west",west:"east",north:"south",south:"north"};a.fn.tooltip=function(b,c){var d=a();this.each(function(){d=b||c?d.add(f(this,b,c)):d.add(a("#"+a(this).data("tooltip-id")))});
return d}})(jQuery);ContactLink=function(a,e){return e({name:"ContactLink",mixins:[function(){this.defaultAttrs({toAddress:"",toName:""});this.addAddressToRecipient=function(a){a.preventDefault();this.trigger(document,"contact.item.clicked",{address:this.attr.toAddress,name:this.attr.toName})};this.after("initialize",function(){this.on("click",function(a){this.addAddressToRecipient(a)})})}]})}(jQuery,defineComponent);
Toolbar=function(a,e,b){return e({name:"Toolbar",mixins:[mixinKeypress,function(){this.onCursorUpKeyPress=function(){this.triggerToolbarButton("#toolbarButtonPrev")};this.onCursorDownKeyPress=function(){this.triggerToolbarButton("#toolbarButtonNext")};this.onDelKeyPress=function(){this.triggerToolbarButton("#toolbarButtonDelete")};this.onSKeyPress=function(){this.triggerToolbarButton("#toolbarButtonSpam")};this.onAKeyPress=function(){this.triggerToolbarButton("#toolbarButtonReply")};this.triggerToolbarButton=
function(a){a=this.$node.find(a);a.prop("disabled")||a.trigger("click")};this.initializeListenerController=function(){this.on(document,"close.ftd",this.startKeyListener);this.on(document,"closeLayer",this.startKeyListener);this.on(document,"open.ftd",this.stopKeyListener);this.on(document,"openLayer",this.stopKeyListener)};this.initializeKeyBindings=function(){this.addKey(b.DELETE,this.onDelKeyPress);this.addKey(b.S,this.onSKeyPress);this.addKey(b.A,this.onAKeyPress);this.addKey(b.RIGHT,this.onCursorDownKeyPress,
{preventIFrameKeys:!0});this.addKey(b.LEFT,this.onCursorUpKeyPress,{preventIFrameKeys:!0});this.addKey(b.DOWN,this.onCursorDownKeyPress,{preventIFrameKeys:!0});this.addKey(b.UP,this.onCursorUpKeyPress,{preventIFrameKeys:!0});this.startKeyListener()};this.after("initialize",function(){this.initializeKeyBindings();this.initializeListenerController()})}]})}(jQuery,defineComponent,phx.util.KEYS);
CustomFilter=function(a,e){return e({name:"CustomFilter",mixins:[function(){this.defaultAttrs({listContainer:".customfilter_case-list",scrollMode:!1});this.scrollListContainerToEndPosition=function(){setTimeout(function(){this.select("listContainer").scrollTop(1E4)}.bind(this),0)};this.hasScrollMode=function(){return this.attr.scrollMode};this.after("initialize",function(){this.hasScrollMode()&&this.scrollListContainerToEndPosition()})}]})}(jQuery,defineComponent);
PgpEmptyPreviewTeaser=function(a,e,b){return e({name:"PgpEmptyPreviewTeaser",mixins:[b,function(){this.onShowTeaser=function(){this.track()};this.after("initialize",function(){this.onShowTeaser();this.on("pgp-empty-preview-teaser/show",this.onShowTeaser)})}]})}(jQuery,defineComponent,mixinTrack);
PgpDownloadExtensionButton=function(a,e,b,c){return e({name:"PgpDownloadExtensionButton",parent:b,mixins:[function(){this.defaultAttrs({mailvelopeOutdated:!1});this.sourceWindow=null;this.hasActiveEventRegister=!1;this.closeSourceWindow=function(){this.sourceWindow&&(this.sourceWindow.close(),this.sourceWindow=null)};this.onMailvelopeInstall=function(){this.unregisterEvents();this.closeSourceWindow();this.attr.mailvelopeOutdated||phx.pgp.reinitialize().then(function(a){c.message("installed",{version:a.version,
hasKeyPair:a.hasKeyPair})})};this.registerEvents=function(){this.on(window,"mailvelope",this.onMailvelopeInstall);this.on(window,"mailvelope-disconnect",this.onMailvelopeInstall);this.hasActiveEventRegister=!0};this.unregisterEvents=function(){this.off(window,"mailvelope",this.onMailvelopeInstall);this.off(window,"mailvelope-disconnect",this.onMailvelopeInstall);this.hasActiveEventRegister=!1};this.onButtonClick=function(){this.hasActiveEventRegister||this.registerEvents()};this.after("initialize",
function(){this.on("click",this.onButtonClick)})}]})}(jQuery,defineComponent,Button,phx.util.post);
PgpExternalDownloadExtensionButton=function(a,e,b){return e({name:"PgpExternalDownloadExtensionButton",parent:b,mixins:[function(){this.onPostMessage=function(a){var b;if("https://www.mailvelope.com"===a.originalEvent.origin&&(b=a.originalEvent.data,"started"===b&&(this.sourceWindow=a.originalEvent.source),"success"===b||"failure_"===b.slice(0,8)))this.sourceWindow=a.originalEvent.source,this.closeSourceWindow()};this.after("registerEvents",function(){this.on(window,"message",this.onPostMessage)});
this.after("unregisterEvents",function(){this.off(window,"message",this.onPostMessage)})}]})}(jQuery,defineComponent,PgpDownloadExtensionButton);
PgpExtensionNotificationDownloadButton=function(a,e,b,c){return e({name:"PgpExtensionNotificationDownloadButton",parent:b,mixins:[c,function(){this.defaultAttrs({button:".extension-notification-download-button_trigger",blocker:".extension-notification-download-button_container"});this.notificationElement=null;this.createNotificationElement=function(){var b;b=this.getTemplateContentAsHtmlString("extensionNotificationName");b=a(b);this.on(b,"click",{blocker:this.onBlockerClick});return b};this.after("onButtonClick",
function(){this.showNotificationElement()});this.onBlockerClick=function(){this.hideNotificationElement()};this.hideNotificationElement=function(){this.notificationElement.detach()};this.showNotificationElement=function(){this.getBody().append(this.notificationElement)};this.getBody=function(){return a("body")};this.after("initialize",function(){this.notificationElement=this.createNotificationElement();this.on("click",this.onButtonClick);this.on(window,"mailvelope",this.hideNotificationElement)})}]})}(jQuery,
defineComponent,PgpDownloadExtensionButton,mixinTemplate);(function(a){phx.toggleButtonState=function(e,b){var c,d;"string"===typeof e?(d=e,e=a("#"+e),c=a("#"+d+"MenuTrigger"),0<c.length&&phx.toggleButtonState(d+"MenuTrigger",b)):e=a(e);c=e.is("input, button");"boolean"!==typeof b&&(b=c?!e.prop("disabled"):"true"!==e.attr("data-disabled"));c?e.prop("disabled",b):e.attr("data-disabled",b);e.closest("li")[b?"addClass":"removeClass"]("inactive");return!b}})(jQuery);
(function(){phx.isToggleControlMinimized=function(a){if(a)return!a.closest(".gui-toggle").hasClass("minimized")}})(jQuery);(function(a){phx.util.userAgent.is("ff","webkit")&&phx.event.subscribe(phx.events.EDITOR_LOADED,function(e){window.setTimeout(function(){e&&"html"===e.mode&&0===a("#cke_editor iframe").length&&(a("#blocker").hide(),phx.editor.getInstance=function(){var b=function(){return!1};return{checkDirty:b,isDirty:b,resetDirty:a.noop}},a("#editorStartupFailedLink").trigger("click"))},1E3)})})(jQuery);
(function(){phx.event.publish("domchange",{})})();