var nx=nx||{},JSON=JSON||{};nx.iac=nx.iac||{};(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;
function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);
case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];
if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";
}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];
}}}}return reviver.call(holder,key,value);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());(function(c){var b=function(e){var f=e,g=false;
this.init=function(){if(c.addEventListener){c.addEventListener("message",h,false);}else{if(c.attachEvent){c.attachEvent("onmessage",h);}}g=true;nx.iac.Client.sendBuffered();};this.initialized=function(){return g;};var h=function(i){try{nx.iac.Client.onMessage(JSON.parse(i.data));}catch(j){}};this.send=function(i){top.postMessage(JSON.stringify(i),"*");};};var a=function(h){var l=h,g=false,f,k,e,m,j;this.init=function(){if(c.addEventListener){c.addEventListener("unload",p,false);}else{if(c.attachEvent){c.attachEvent("onunload",p);
c.attachEvent("onbeforeunload",o);}}c.handleLocalConnectionInit=i;c.handleLocalConnectionMessage=n;if(!!l.flash_container){f=document.getElementById(l.flash_container);}else{f=document.getElementById("flash-fallback-container");}if(!f){f=document.createElement("div");f.id="flash-fallback-container";document.getElementsByTagName("body")[0].appendChild(f);}var q="//sec-s.uicdn.com/nav-cdn/navigator-common/iac/client/3.1.0/iac.swf";f.innerHTML=['<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="iac-local-connection-object" codebase="//fpdownload.macromedia.com/get/flashplayer/current/swflash.cab" width="1px" height="1px">','<param name="movie" value="'+q+'" />','<param name="allowScriptAccess" value="always" />','<embed id="iac-local-connection-embed" src="'+q+'" play="true" loop="false" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="https://www.adobe.com/go/getflashplayer" width="1px" height="1px">',"</embed>","</object>"].join("");
k=document.getElementById("iac-local-connection-object");e=document.getElementById("iac-local-connection-embed");};var o=function(){if(document.readyState=="interactive"){function q(){document.detachEvent("onstop",q);p();}document.attachEvent("onstop",q);c.setTimeout(function(){document.detachEvent("onstop",q);},0);}};var p=function(){try{if(m&&m.disconnect){m.disconnect();}}catch(q){}};this.initialized=function(){return g;};var i=function(){m=e||k;if(!m){if(!j){j=c.setInterval(function(){i();},100);
}return;}else{if(j){c.clearInterval(j);}}try{m.disconnect();}catch(r){}var q=m.connect(l.appname,l.context_token);g=true;nx.iac.Client.sendBuffered();};var n=function(t,q,s,r){nx.iac.Client.onMessage(JSON.parse(t));};this.send=function(q){m.sendMessage("navigator","navigator",JSON.stringify(q),"*");};};var d=new function(){var n=this,q={},m=false,f={},k={},i=[],g,r=function(){};this.onMessage=function(s){if(s&&s.type){switch(s.type){case"EVT":p(s);break;default:e(s);break;}}};this.sendBuffered=function(){if(g.initialized()){var t=0,s=i.length;
for(;t<s;t++){h.apply(n,i[t]);}i=[];}};var h=function(t,s){if(!g.initialized()){i.push(arguments);return;}g.send({type:t,sender:q.appname,token:q.context_token,usecase:s,args:Array.prototype.slice.call(arguments,2)});};this.invokeRPC=function(){Array.prototype.unshift.call(arguments,"RPC");h.apply(n,arguments);return n;};this.invokeRPE=function(){Array.prototype.unshift.call(arguments,"RPE");h.apply(n,arguments);return n;};var l=function(s){if(/^[_|\s]/.test(s)){throw new Error("No valid usecase name.");
}};var o=function(s,t){f[s]=t;};this.bindUsecase=function(s,t){l();o(s,t);return n;};this.unbindUsecase=function(s){l();if(s in f){delete f[s];}return n;};var e=function(s){if(f.hasOwnProperty(s.usecase)){f[s.usecase].apply(this,[s.sender].concat(s.args));}};this.bindEvent=function(s,t){k[s]=t;return n;};this.unbindEvent=function(s){if(s in k){delete k[s];}return n;};var p=function(s){if(s.usecase in k){k[s.usecase].apply(this,s.args);}};this.connected=function(){return m;};this.connect=function(s){if(typeof s=="function"){r=s;
}h("HUB","__connect__");return n;};this.disconnect=function(){h("HUB","__disconnect__");return n;};var j=function(){o("__connected__",function(){m=true;r();});o("__disconnected__",function(){m=false;});};this.reinitializeApplication=function(){h.apply(n,["RPE","reinitialize_application",arguments[0]||{}]);return n;};this.reinitializeNavigator=function(){h.apply(n,["RPE","reinitialize_navigator",arguments[0]||{}]);return n;};this.logoutNavigator=function(){h.apply(n,["RPE","logout_navigator",arguments[0]||{}]);
return n;};this.openGotoFeature=function(){h.apply(n,["RPE","open_goto_feature",arguments[0]||{}]);return n;};this.openFeedbackDialog=function(){h.apply(n,["RPE","open_feedback_dialog",arguments[0]||{}]);};this.init=function(s){if(typeof s!=="object"||!s.appname||!s.context_token){throw new Error("No valid configuration object given in nx.iac.Client::init()");}j();q=s;if(typeof c.postMessage==="function"||typeof c.postMessage==="object"){g=new b(s);}else{g=new a(s);}g.init();return n;};};nx.iac.Client=d;
})(window);